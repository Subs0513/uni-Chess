{"version":3,"sources":["pages/game/game.uvue","App.uvue"],"sourcesContent":["<template>\n  <view class=\"page\">\n    <view class=\"head\">\n      <text class=\"h1\">Game</text>\n      <text class=\"sub\">{{ turnText }}</text>\n    </view>\n\n    <view class=\"boardWrap\">\n      <view class=\"boardFrame\" :style=\"frameStyle\">\n        <view class=\"boardRowWrap\">\n          <!-- 左侧 8-1 -->\n          <view class=\"ranksCol\" :style=\"ranksColStyle\">\n            <view v-for=\"r in rows\" :key=\"'rank_' + r\" class=\"rankCell\" :style=\"rankCellStyle\">\n              <text class=\"coordText\">{{ rankLabel(r) }}</text>\n            </view>\n          </view>\n\n          <!-- 棋盘 -->\n          <view class=\"board\" :style=\"boardStyle\">\n            <view v-for=\"r in rows\" :key=\"'row_' + r\" class=\"boardRow\" :style=\"rowStyle\">\n              <view\n                v-for=\"c in cols\"\n                :key=\"r + '_' + c\"\n                class=\"cell\"\n                :class=\"cellClass(r, c)\"\n                :style=\"cellStyle\"\n                @tap=\"onTapCell(r, c)\"\n              >\n                <text class=\"piece\">{{ pieceAt(r, c) }}</text>\n              </view>\n            </view>\n          </view>\n        </view>\n\n        <!-- 底部 a-h -->\n        <view class=\"filesRow\" :style=\"filesRowStyle\">\n          <view class=\"filesSpacer\" :style=\"filesSpacerStyle\"></view>\n          <view v-for=\"c in cols\" :key=\"'file_' + c\" class=\"fileCell\" :style=\"fileCellStyle\">\n            <text class=\"coordText\">{{ fileLabel(c) }}</text>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <view class=\"panel\">\n      <view class=\"rowInfo rowFirst\">\n        <text class=\"label\">当前回合</text>\n        <text class=\"value\">{{ turnText }}</text>\n      </view>\n\n      <view class=\"rowInfo\">\n        <text class=\"label\">选中</text>\n        <text class=\"value\">{{ selectedText }}</text>\n      </view>\n\n      <view class=\"btns\">\n        <view class=\"btn\" @tap=\"resetBoard\">\n          <text class=\"btnText\">重置棋盘</text>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup lang=\"uts\">\nimport { ref, computed } from 'vue'\n\n/* 行列 */\nconst rows = [0,1,2,3,4,5,6,7]\nconst cols = [0,1,2,3,4,5,6,7]\n\n/* ========= ✅ 尺寸：修复“棋盘显示不全” =========\n   总宽 = boardPx + coordPx\n   所以 boardPx 必须用 (可用宽度 - coordPx) 来算\n   coordPx 又依赖 cellPx，所以用 2~3 次迭代收敛\n*/\nconst boardPx = ref<number>(320)\nconst coordPx = ref<number>(22)\n\nfunction clamp(n: number, minV: number, maxV: number): number {\n  if (n < minV) return minV\n  if (n > maxV) return maxV\n  return n\n}\n\nfunction calcCoordFromCell(cell: number): number {\n  let v = Math.floor(cell * 0.55)\n  if (v < 18) v = 18\n  if (v > 26) v = 26\n  return v\n}\n\nfunction recalcSizes() {\n  const info: GetSystemInfoResult = uni.getSystemInfoSync()\n  const ww: number = info.windowWidth\n\n  // 页面左右 padding 共 36（page padding 18px*2）\n  const maxTotal = ww - 36\n\n  // 初始假设\n  let c = 22\n  let b = maxTotal - c\n\n  // 迭代两三次，让 coordPx 与 cellPx 一致\n  for (let i = 0; i < 3; i++) {\n    // board 约束范围 + 对齐 8 的倍数\n    b = clamp(b, 240, 360)\n    b = b - (b % 8)\n\n    const cell = b / 8\n    c = calcCoordFromCell(cell)\n\n    // 保证总宽不超\n    b = maxTotal - c\n  }\n\n  // 最终再对齐一次\n  b = clamp(b, 240, 360)\n  b = b - (b % 8)\n  c = calcCoordFromCell(b / 8)\n\n  boardPx.value = b\n  coordPx.value = c\n}\n\nrecalcSizes()\n\nconst cellPx = computed((): number => boardPx.value / 8)\n\n/* style 字符串 */\nconst boardStyle = computed((): string => {\n  const px = boardPx.value.toString() + 'px'\n  return 'width:' + px + ';height:' + px + ';'\n})\n\nconst rowStyle = computed((): string => {\n  const w = boardPx.value.toString() + 'px'\n  const h = cellPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst cellStyle = computed((): string => {\n  const px = cellPx.value.toString() + 'px'\n  return 'width:' + px + ';height:' + px + ';flex:0 0 ' + px + ';'\n})\n\n/* 外框（含坐标） */\nconst frameStyle = computed((): string => {\n  const w = (boardPx.value + coordPx.value).toString() + 'px'\n  const h = (boardPx.value + coordPx.value).toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst ranksColStyle = computed((): string => {\n  const w = coordPx.value.toString() + 'px'\n  const h = boardPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst rankCellStyle = computed((): string => {\n  const w = coordPx.value.toString() + 'px'\n  const h = cellPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst filesRowStyle = computed((): string => {\n  const w = (boardPx.value + coordPx.value).toString() + 'px'\n  const h = coordPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst filesSpacerStyle = computed((): string => {\n  const w = coordPx.value.toString() + 'px'\n  const h = coordPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst fileCellStyle = computed((): string => {\n  const w = cellPx.value.toString() + 'px'\n  const h = coordPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nfunction rankLabel(r: number): string { return (8 - r).toString() }\nfunction fileLabel(c: number): string { return String.fromCharCode(97 + c) }\n\n/* ========= 对弈 ========= */\ntype Turn = 'white' | 'black'\nconst turn = ref<Turn>('white')\n\nclass Pos { r: number; c: number; constructor(r: number, c: number){ this.r=r; this.c=c } }\nconst selected = ref<Pos | null>(null)\n\n/* Unicode */\nconst BR='♜', BN='♞', BB='♝', BQ='♛', BK='♚', BP='♟'\nconst WR='♖', WN='♘', WB='♗', WQ='♕', WK='♔', WP='♙'\n\ntype Board = (string | null)[][]\n\nfunction createInitBoard(): Board {\n  return [\n    [BR, BN, BB, BQ, BK, BB, BN, BR],\n    [BP, BP, BP, BP, BP, BP, BP, BP],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    [WP, WP, WP, WP, WP, WP, WP, WP],\n    [WR, WN, WB, WQ, WK, WB, WN, WR]\n  ]\n}\nconst board = ref<Board>(createInitBoard())\n\nfunction pieceAt(r:number,c:number):string{\n  const p = board.value[r][c]\n  return p==null?'':p\n}\n\nfunction isWhitePiece(p:string):boolean{ return p==WR||p==WN||p==WB||p==WQ||p==WK||p==WP }\nfunction isBlackPiece(p:string):boolean{ return p==BR||p==BN||p==BB||p==BQ||p==BK||p==BP }\nfunction colorOf(p:string):Turn{ return isWhitePiece(p)?'white':'black' }\n\n/* ===== 合法走子：基础规则 + 不送将 ===== */\nfunction inBounds(r:number,c:number):boolean{ return r>=0&&r<8&&c>=0&&c<8 }\n\nfunction cloneBoard(b:Board):Board{\n  const nb:Board=[]\n  for(let i=0;i<8;i++){\n    const nr:(string|null)[]=[]\n    for(let j=0;j<8;j++) nr.push(b[i][j])\n    nb.push(nr)\n  }\n  return nb\n}\n\nfunction isEmpty(b:Board,r:number,c:number):boolean{ return b[r][c]==null }\nfunction isEnemyAt(b:Board,r:number,c:number,me:Turn):boolean{\n  const p=b[r][c]; if(p==null) return false\n  return (me=='white')?isBlackPiece(p):isWhitePiece(p)\n}\n\nfunction rayClear(b:Board,sr:number,sc:number,dr:number,dc:number):boolean{\n  const dR=dr-sr, dC=dc-sc\n  const stepR=dR==0?0:(dR>0?1:-1)\n  const stepC=dC==0?0:(dC>0?1:-1)\n  let r=sr+stepR, c=sc+stepC\n  while(r!=dr || c!=dc){\n    if(!isEmpty(b,r,c)) return false\n    r+=stepR; c+=stepC\n  }\n  return true\n}\n\nfunction pieceType(p:string):string{\n  if(p==WP||p==BP) return 'P'\n  if(p==WN||p==BN) return 'N'\n  if(p==WB||p==BB) return 'B'\n  if(p==WR||p==BR) return 'R'\n  if(p==WQ||p==BQ) return 'Q'\n  return 'K'\n}\n\nfunction findKing(b:Board,who:Turn):Pos|null{\n  const k=(who=='white')?WK:BK\n  for(let r=0;r<8;r++){\n    for(let c=0;c<8;c++){\n      if(b[r][c]==k) return new Pos(r,c)\n    }\n  }\n  return null\n}\n\nfunction isSquareAttacked(b:Board,tr:number,tc:number,by:Turn):boolean{\n  // pawn\n  if(by=='white'){\n    const r=tr+1\n    if(inBounds(r,tc-1)&&b[r][tc-1]==WP) return true\n    if(inBounds(r,tc+1)&&b[r][tc+1]==WP) return true\n  }else{\n    const r=tr-1\n    if(inBounds(r,tc-1)&&b[r][tc-1]==BP) return true\n    if(inBounds(r,tc+1)&&b[r][tc+1]==BP) return true\n  }\n  // knight\n  const kd=[[-2,-1],[-2,1],[-1,-2],[-1,2],[1,-2],[1,2],[2,-1],[2,1]]\n  for(let i=0;i<kd.length;i++){\n    const rr=tr+kd[i][0], cc=tc+kd[i][1]\n    if(!inBounds(rr,cc)) continue\n    const p=b[rr][cc]; if(p==null) continue\n    if(by=='white'&&p==WN) return true\n    if(by=='black'&&p==BN) return true\n  }\n  // king\n  for(let rr=tr-1;rr<=tr+1;rr++){\n    for(let cc=tc-1;cc<=tc+1;cc++){\n      if(rr==tr&&cc==tc) continue\n      if(!inBounds(rr,cc)) continue\n      const p=b[rr][cc]; if(p==null) continue\n      if(by=='white'&&p==WK) return true\n      if(by=='black'&&p==BK) return true\n    }\n  }\n  // rook/queen rays\n  const rd=[[-1,0],[1,0],[0,-1],[0,1]]\n  for(let i=0;i<rd.length;i++){\n    let rr=tr+rd[i][0], cc=tc+rd[i][1]\n    while(inBounds(rr,cc)){\n      const p=b[rr][cc]\n      if(p!=null){\n        if(by=='white'&&(p==WR||p==WQ)) return true\n        if(by=='black'&&(p==BR||p==BQ)) return true\n        break\n      }\n      rr+=rd[i][0]; cc+=rd[i][1]\n    }\n  }\n  // bishop/queen rays\n  const bd=[[-1,-1],[-1,1],[1,-1],[1,1]]\n  for(let i=0;i<bd.length;i++){\n    let rr=tr+bd[i][0], cc=tc+bd[i][1]\n    while(inBounds(rr,cc)){\n      const p=b[rr][cc]\n      if(p!=null){\n        if(by=='white'&&(p==WB||p==WQ)) return true\n        if(by=='black'&&(p==BB||p==BQ)) return true\n        break\n      }\n      rr+=bd[i][0]; cc+=bd[i][1]\n    }\n  }\n  return false\n}\n\nfunction isKingInCheck(b:Board,who:Turn):boolean{\n  const k=findKing(b,who)\n  if(k==null) return false\n  const opp:Turn=(who=='white')?'black':'white'\n  return isSquareAttacked(b,k.r,k.c,opp)\n}\n\nfunction canMovePieceRaw(b:Board,sr:number,sc:number,dr:number,dc:number,who:Turn):boolean{\n  if(!inBounds(sr,sc)||!inBounds(dr,dc)) return false\n  if(sr==dr&&sc==dc) return false\n  const p=b[sr][sc]; if(p==null) return false\n  if(colorOf(p)!=who) return false\n  const dst=b[dr][dc]\n  if(dst!=null && colorOf(dst)==who) return false\n\n  const t=pieceType(p)\n  const dR=dr-sr, dC=dc-sc\n  const absR=Math.abs(dR), absC=Math.abs(dC)\n\n  if(t=='P'){\n    const dir=(who=='white')?-1:1\n    const startRow=(who=='white')?6:1\n    if(dC==0){\n      if(dR==dir && isEmpty(b,dr,dc)) return true\n      if(sr==startRow && dR==2*dir){\n        const mid=sr+dir\n        if(isEmpty(b,mid,sc)&&isEmpty(b,dr,dc)) return true\n      }\n      return false\n    }\n    if(absC==1 && dR==dir){\n      return isEnemyAt(b,dr,dc,who)\n    }\n    return false\n  }\n\n  if(t=='N'){\n    return (absR==2&&absC==1)||(absR==1&&absC==2)\n  }\n\n  if(t=='B'){\n    if(absR!=absC) return false\n    return rayClear(b,sr,sc,dr,dc)\n  }\n\n  if(t=='R'){\n    if(!(dR==0||dC==0)) return false\n    return rayClear(b,sr,sc,dr,dc)\n  }\n\n  if(t=='Q'){\n    const ok=(absR==absC)||(dR==0||dC==0)\n    if(!ok) return false\n    return rayClear(b,sr,sc,dr,dc)\n  }\n\n  // K\n  return absR<=1 && absC<=1\n}\n\nfunction isLegalMove(b:Board,sr:number,sc:number,dr:number,dc:number,who:Turn):boolean{\n  if(!canMovePieceRaw(b,sr,sc,dr,dc,who)) return false\n  const nb=cloneBoard(b)\n  nb[dr][dc]=nb[sr][sc]\n  nb[sr][sc]=null\n  if(isKingInCheck(nb,who)) return false\n  return true\n}\n\n/* ===== 交互 ===== */\nfunction onTapCell(r:number,c:number){\n  const piece=board.value[r][c]\n\n  if(selected.value==null){\n    if(piece==null) return\n    if(turn.value=='white'&&isWhitePiece(piece)) selected.value=new Pos(r,c)\n    else if(turn.value=='black'&&isBlackPiece(piece)) selected.value=new Pos(r,c)\n    return\n  }\n\n  const sr=selected.value.r, sc=selected.value.c\n  const moving=board.value[sr][sc]\n  if(moving==null){ selected.value=null; return }\n\n  // 点到己方子：改选\n  if(piece!=null && (\n    (turn.value=='white' && isWhitePiece(piece)) ||\n    (turn.value=='black' && isBlackPiece(piece))\n  )){\n    selected.value=new Pos(r,c)\n    return\n  }\n\n  const ok=isLegalMove(board.value,sr,sc,r,c,turn.value)\n  if(!ok){\n    uni.showToast({ title:'非法走法', icon:'none' })\n    return\n  }\n\n  board.value[r][c]=moving\n  board.value[sr][sc]=null\n  selected.value=null\n  turn.value=(turn.value=='white')?'black':'white'\n}\n\nfunction cellClass(r:number,c:number):string{\n  let cls=((r+c)%2==1)?'dark':'light'\n  if(selected.value!=null && selected.value.r==r && selected.value.c==c){\n    cls=cls+' selected'\n  }\n  return cls\n}\n\nconst selectedText = computed(():string=>{\n  if(selected.value==null) return '无'\n  const file=String.fromCharCode(97+selected.value.c)\n  const rank=(8-selected.value.r).toString()\n  return file+rank\n})\n\nconst turnText = computed(():string => (turn.value=='white'?'白方回合':'黑方回合'))\n\nfunction resetBoard(){\n  board.value=createInitBoard()\n  selected.value=null\n  turn.value='white'\n}\n</script>\n\n<style >.page {\n  padding: 18px;\n  display: flex;\n  flex-direction: column;\n}\n\n.head {\n  margin-bottom: 12px;\n}\n\n.h1 {\n  font-size: 20px;\n  font-weight: 700;\n}\n\n.sub {\n  font-size: 12px;\n  opacity: 0.6;\n  margin-top: 4px;\n}\n\n.boardWrap {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 14px;\n}\n\n/* ===== 坐标框整体 ===== */\n.boardFrame {\n  display: flex;\n  flex-direction: column;\n\n  /* ❌ 去掉圆角 */\n  border-radius: 0;\n\n  /* 可以保留，也可以去掉 */\n  overflow: hidden;\n\n  /* 如果你不想要外框，连 border 也可以删 */\n  border: none;\n\n  background: transparent;\n  box-sizing: border-box;\n}\n\n\n.boardRowWrap {\n  display: flex;\n  flex-direction: row;\n}\n\n/* 左侧 8-1 */\n.ranksCol {\n  display: flex;\n  flex-direction: column;\n  /* ✅ 不要灰底 */\n  background: transparent;\n  box-sizing: border-box;\n}\n\n.rankCell {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n}\n\n/* 底部 a-h */\n.filesRow {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  /* ✅ 不要灰底 */\n  background: transparent;\n  box-sizing: border-box;\n}\n\n.filesSpacer {\n  flex-shrink: 0;\n  /* ✅ 不要灰底 */\n  background: transparent;\n}\n\n.fileCell {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n}\n\n.coordText {\n  font-size: 12px;\n  opacity: 0.6;\n  font-weight: 700;\n}\n\n/* ===== 棋盘本体 ===== */\n.board {\n  overflow: hidden;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n}\n\n.boardRow {\n  display: flex;\n  flex-direction: row;\n}\n\n.cell {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  flex-shrink: 0;\n}\n\n.light { background: #f0d9b5; }\n.dark  { background: #b58863; }\n\n.selected {\n  border: 3px solid rgba(31,111,235,0.9);\n  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.25);\n}\n\n.piece {\n  font-size: 26px;\n  line-height: 26px;\n}\n\n.panel {\n  padding: 14px;\n  border-radius: 14px;\n  border: 1px solid rgba(0,0,0,0.08);\n  background: rgba(0,0,0,0.02);\n}\n\n.rowInfo {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 0;\n  border-top: 1px solid rgba(0,0,0,0.06);\n}\n\n.rowFirst {\n  border-top: none;\n  padding-top: 0;\n}\n\n.label {\n  font-size: 12px;\n  opacity: 0.6;\n}\n\n.value {\n  font-size: 14px;\n  font-weight: 700;\n}\n\n.btns {\n  margin-top: 12px;\n}\n\n.btn {\n  height: 42px;\n  border-radius: 12px;\n  background: rgba(31,111,235,0.12);\n  border: 1px solid rgba(31,111,235,0.25);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.btnText {\n  font-size: 14px;\n  font-weight: 700;\n}\n</style>\n",null],"names":[],"mappings":"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"}