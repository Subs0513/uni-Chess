{"version":3,"sources":["../../../../../../../../Programming/HBuilderX/plugins/uniapp-cli-vite/node_modules/@dcloudio/uni-console/src/runtime/app/socket.ts","App.uvue","../../../../../../../../Programming/HBuilderX/plugins/uniapp-cli-vite/node_modules/@dcloudio/uni-console/src/runtime/app/index.ts","pages/home/home.uvue","main.uts","pages/me/me.uvue","pages/game/game.uvue"],"sourcesContent":["/// <reference types=\"@dcloudio/uni-app-x/types/uni/global\" />\n// ‰πãÊâÄ‰ª•ÂèàÂÜô‰∫Ü‰∏Ä‰ªΩÔºåÊòØÂõ†‰∏∫Â§ñÂ±ÇÁöÑsocketÔºåconnectSocketÁöÑÊó∂ÂÄôÂøÖÈ°ª‰º†ÂÖ•multiple:true\n// ‰ΩÜÊòØandroidÂèà‰∏çËÉΩ‰º†ÂÖ•ÔºåÁõÆÂâç‰ª£Á†ÅÈáåÂèà‰∏çËÉΩÂÜôÊù°‰ª∂ÁºñËØë‰πãÁ±ªÁöÑ„ÄÇ\nexport function initRuntimeSocket(\n  hosts: string,\n  port: string,\n  id: string\n): Promise<SocketTask | null> {\n  if (hosts == '' || port == '' || id == '') return Promise.resolve(null)\n  return hosts\n    .split(',')\n    .reduce<Promise<SocketTask | null>>(\n      (\n        promise: Promise<SocketTask | null>,\n        host: string\n      ): Promise<SocketTask | null> => {\n        return promise.then((socket): Promise<SocketTask | null> => {\n          if (socket != null) return Promise.resolve(socket)\n          return tryConnectSocket(host, port, id)\n        })\n      },\n      Promise.resolve(null)\n    )\n}\n\nconst SOCKET_TIMEOUT = 500\nfunction tryConnectSocket(\n  host: string,\n  port: string,\n  id: string\n): Promise<SocketTask | null> {\n  return new Promise((resolve, reject) => {\n    const socket = uni.connectSocket({\n      url: `ws://${host}:${port}/${id}`,\n      fail() {\n        resolve(null)\n      },\n    })\n    const timer = setTimeout(() => {\n      // @ts-expect-error\n      socket.close({\n        code: 1006,\n        reason: 'connect timeout',\n      } as CloseSocketOptions)\n      resolve(null)\n    }, SOCKET_TIMEOUT)\n\n    socket.onOpen((e) => {\n      clearTimeout(timer)\n      resolve(socket)\n    })\n    socket.onClose((e) => {\n      clearTimeout(timer)\n      resolve(null)\n    })\n    socket.onError((e) => {\n      clearTimeout(timer)\n      resolve(null)\n    })\n  })\n}\n","<script lang=\"uts\">\r\n\r\n\tlet firstBackTime = 0\r\n\r\n\texport default {\r\n\t\tonLaunch() {\r\n\t\t\tconsole.log('App Launch')\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tconsole.log('App Show')\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\tconsole.log('App Hide')\r\n\t\t},\r\n\r\n\t\tonLastPageBackPress() {\r\n\t\t\tconsole.log('App LastPageBackPress')\r\n\t\t\tif (firstBackTime == 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: 'ÂÜçÊåâ‰∏ÄÊ¨°ÈÄÄÂá∫Â∫îÁî®',\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t})\r\n\t\t\t\tfirstBackTime = Date.now()\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tfirstBackTime = 0\r\n\t\t\t\t}, 2000)\r\n\t\t\t} else if (Date.now() - firstBackTime < 2000) {\r\n\t\t\t\tfirstBackTime = Date.now()\r\n\t\t\t\tuni.exit()\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonExit() {\r\n\t\t\tconsole.log('App Exit')\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t/*ÊØè‰∏™È°µÈù¢ÂÖ¨ÂÖ±css */\r\n\t.uni-row {\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t.uni-column {\r\n\t\tflex-direction: column;\r\n\t}\r\n</style>","import { initRuntimeSocket } from './socket'\n\nexport function initRuntimeSocketService(): Promise<boolean> {\n  const hosts: string = process.env.UNI_SOCKET_HOSTS\n  const port: string = process.env.UNI_SOCKET_PORT\n  const id: string = process.env.UNI_SOCKET_ID\n  if (hosts == '' || port == '' || id == '') return Promise.resolve(false)\n  let socketTask: SocketTask | null = null\n  __registerWebViewUniConsole(\n    (): string => {\n      return process.env.UNI_CONSOLE_WEBVIEW_EVAL_JS_CODE\n    },\n    (data: string) => {\n      socketTask?.send({\n        data,\n      } as SendSocketMessageOptions)\n    }\n  )\n  return Promise.resolve()\n    .then((): Promise<boolean> => {\n      return initRuntimeSocket(hosts, port, id).then((socket): boolean => {\n        if (socket == null) {\n          return false\n        }\n        socketTask = socket\n        return true\n      })\n    })\n    .catch((): boolean => {\n      return false\n    })\n}\n\ninitRuntimeSocketService()\n","<template>\n  <view class=\"page\">\n    <view class=\"header\">\n      <image class=\"logo\" src=\"/static/logo.png\" mode=\"aspectFit\" />\n      <view class=\"titles\">\n        <text class=\"h1\">uni-Chess</text>\n        <text class=\"sub\">Home</text>\n      </view>\n    </view>\n\n    <view class=\"cards\">\n      <view class=\"card\" @tap=\"goGame('ai')\">\n        <text class=\"cardTitle\">‰∫∫Êú∫ÂØπÊàò</text>\n        <text class=\"cardDesc\">Âíå AI ‰∏ãÊ£ã</text>\n      </view>\n\n      <view class=\"card\" @tap=\"goGame('online')\">\n        <text class=\"cardTitle\">ËÅîÊú∫ÂØπÊàò</text>\n        <text class=\"cardDesc\">ÂåπÈÖç / ÊàøÈó¥</text>\n      </view>\n\n      <view class=\"card\" @tap=\"goGame('local')\">\n        <text class=\"cardTitle\">Êú¨Âú∞Âèå‰∫∫</text>\n        <text class=\"cardDesc\">ÂêåÂ±è‰∏§‰∫∫ÂØπÂºà</text>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup lang=\"uts\">\ntype GameMode = 'ai' | 'online' | 'local'\n\nfunction goGame(mode: GameMode) {\n  uni.navigateTo({\n    url: `/pages/game/game?mode=${mode}`\n  })\n}\n</script>\n\n<style scoped >.page {\n  padding: 18px;\n  display: flex;\n  flex-direction: column;\n}\n\n.header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 16px;\n}\n\n.logo {\n  width: 44px;\n  height: 44px;\n  border-radius: 10px;\n  margin-right: 12px;\n}\n\n.titles {\n  display: flex;\n  flex-direction: column;\n}\n\n.h1 {\n  font-size: 20px;\n  font-weight: 700;\n}\n\n.sub {\n  font-size: 12px;\n  opacity: 0.6;\n  margin-top: 2px;\n}\n\n.cards {\n  display: flex;\n  flex-direction: column;\n}\n\n.card {\n  padding: 14px;\n  border-radius: 14px;\n  border: 1px solid rgba(0, 0, 0, 0.08);\n  background: rgba(0, 0, 0, 0.02);\n  margin-bottom: 12px;\n}\n\n.cardTitle {\n  font-size: 16px;\n  font-weight: 700;\n}\n\n.cardDesc {\n  margin-top: 6px;\n  font-size: 12px;\n  opacity: 0.7;\n}\n</style>\n","import 'D:/Programming/HBuilderX/plugins/uniapp-cli-vite/node_modules/@dcloudio/uni-console/src/runtime/app/index.ts';import App from './App.uvue'\r\n\r\nimport { createSSRApp } from 'vue'\r\nexport function createApp() {\r\n\tconst app = createSSRApp(App)\r\n\treturn {\r\n\t\tapp\r\n\t}\r\n}\nexport function main(app: IApp) {\n    definePageRoutes();\n    defineAppConfig();\n    (createApp()['app'] as VueApp).mount(app, GenUniApp());\n}\n\nexport class UniAppConfig extends io.dcloud.uniapp.appframe.AppConfig {\n    override name: string = \"uni-Chess\"\n    override appid: string = \"__UNI__C4B6EBD\"\n    override versionName: string = \"1.0.0\"\n    override versionCode: string = \"100\"\n    override uniCompilerVersion: string = \"4.87\"\n    \n    constructor() { super() }\n}\n\nimport GenPagesHomeHomeClass from './pages/home/home.uvue'\nimport GenPagesMeMeClass from './pages/me/me.uvue'\nimport GenPagesGameGameClass from './pages/game/game.uvue'\nfunction definePageRoutes() {\n__uniRoutes.push({ path: \"pages/home/home\", component: GenPagesHomeHomeClass, meta: { isQuit: true } as UniPageMeta, style: _uM([[\"navigationBarTitleText\",\"Chess\"],[\"navigationStyle\",\"default\"]]) } as UniPageRoute)\n__uniRoutes.push({ path: \"pages/me/me\", component: GenPagesMeMeClass, meta: { isQuit: false } as UniPageMeta, style: _uM([[\"navigationBarTitleText\",\"Me\"],[\"navigationStyle\",\"default\"]]) } as UniPageRoute)\n__uniRoutes.push({ path: \"pages/game/game\", component: GenPagesGameGameClass, meta: { isQuit: false } as UniPageMeta, style: _uM([[\"navigationBarTitleText\",\"\"]]) } as UniPageRoute)\n}\nconst __uniTabBar: Map<string, any | null> | null = _uM([[\"color\",\"#8A8A8A\"],[\"selectedColor\",\"#1F6FEB\"],[\"backgroundColor\",\"#FFFFFF\"],[\"borderStyle\",\"black\"],[\"list\",[_uM([[\"pagePath\",\"pages/home/home\"],[\"text\",\"Home\"],[\"iconPath\",\"static/tab/tab-home.png\"],[\"selectedIconPath\",\"static/tab/tab-home-active.png\"]]),_uM([[\"pagePath\",\"pages/me/me\"],[\"text\",\"Me\"],[\"iconPath\",\"static/tab/tab-me.png\"],[\"selectedIconPath\",\"static/tab/tab-me-active.png\"]])]]])\nconst __uniLaunchPage: Map<string, any | null> = _uM([[\"url\",\"pages/home/home\"],[\"style\",_uM([[\"navigationBarTitleText\",\"Chess\"],[\"navigationStyle\",\"default\"]])]])\nfunction defineAppConfig(){\n  __uniConfig.entryPagePath = '/pages/home/home'\n  __uniConfig.globalStyle = _uM()\n  __uniConfig.getTabBarConfig = ():Map<string, any> | null =>  _uM([[\"color\",\"#8A8A8A\"],[\"selectedColor\",\"#1F6FEB\"],[\"backgroundColor\",\"#FFFFFF\"],[\"borderStyle\",\"black\"],[\"list\",[_uM([[\"pagePath\",\"pages/home/home\"],[\"text\",\"Home\"],[\"iconPath\",\"static/tab/tab-home.png\"],[\"selectedIconPath\",\"static/tab/tab-home-active.png\"]]),_uM([[\"pagePath\",\"pages/me/me\"],[\"text\",\"Me\"],[\"iconPath\",\"static/tab/tab-me.png\"],[\"selectedIconPath\",\"static/tab/tab-me-active.png\"]])]]])\n  __uniConfig.tabBar = __uniConfig.getTabBarConfig()\n  __uniConfig.conditionUrl = ''\n  __uniConfig.uniIdRouter = new Map()\n  \n  __uniConfig.ready = true\n}\n","<template>\n  <view class=\"page\">\n    <text class=\"h1\">Me</text>\n\n    <view class=\"section\">\n      <text class=\"secTitle\">ËÆæÁΩÆÔºàÂç†‰ΩçÔºâ</text>\n\n      <view class=\"row\">\n        <text>Èü≥Êïà</text>\n        <switch :checked=\"sound\" @change=\"onSoundChange\" />\n      </view>\n\n      <view class=\"row\">\n        <text>ÈúáÂä®</text>\n        <switch :checked=\"vibrate\" @change=\"onVibrateChange\" />\n      </view>\n\n      <view class=\"row\">\n        <text>Ê£ãÁõò‰∏ªÈ¢ò</text>\n        <text class=\"value\">{{ theme }}</text>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup lang=\"uts\">\nimport { ref } from 'vue'\n\ntype SwitchChangeDetail = {\n  value: boolean\n}\n\ntype SwitchChangeEvent = {\n  detail: SwitchChangeDetail\n}\n\nconst sound = ref(true)\nconst vibrate = ref(true)\nconst theme = ref('Classic')\n\nfunction onSoundChange(e: SwitchChangeEvent) {\n  sound.value = e.detail.value\n}\n\nfunction onVibrateChange(e: SwitchChangeEvent) {\n  vibrate.value = e.detail.value\n}\n</script>\n\n<style scoped >.page {\n  padding: 18px;\n  display: flex;\n  flex-direction: column;\n}\n\n.h1 {\n  font-size: 20px;\n  font-weight: 700;\n  margin-bottom: 14px;\n}\n\n.section {\n  padding: 14px;\n  border-radius: 14px;\n  border: 1px solid rgba(0, 0, 0, 0.08);\n  background: rgba(0, 0, 0, 0.02);\n  display: flex;\n  flex-direction: column;\n}\n\n.secTitle {\n  font-size: 14px;\n  font-weight: 700;\n  opacity: 0.8;\n  margin-bottom: 12px;\n}\n\n.row {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px 0;\n  border-top: 1px solid rgba(0, 0, 0, 0.06);\n}\n\n.row:first-of-type {\n  border-top: none;\n  padding-top: 0;\n}\n\n.value {\n  opacity: 0.7;\n}\n</style>\n","<template>\n  <view class=\"page\">\n    <view class=\"head\">\n      <text class=\"h1\">Game</text>\n      <text class=\"sub\">{{ turnText }}</text>\n    </view>\n\n    <view class=\"boardWrap\">\n      <view class=\"boardFrame\" :style=\"frameStyle\">\n        <view class=\"boardRowWrap\">\n          <!-- Â∑¶‰æß 8-1 -->\n          <view class=\"ranksCol\" :style=\"ranksColStyle\">\n            <view v-for=\"r in rows\" :key=\"'rank_' + r\" class=\"rankCell\" :style=\"rankCellStyle\">\n              <text class=\"coordText\">{{ rankLabel(r) }}</text>\n            </view>\n          </view>\n\n          <!-- Ê£ãÁõò -->\n          <view class=\"board\" :style=\"boardStyle\">\n            <view v-for=\"r in rows\" :key=\"'row_' + r\" class=\"boardRow\" :style=\"rowStyle\">\n              <view\n                v-for=\"c in cols\"\n                :key=\"r + '_' + c\"\n                class=\"cell\"\n                :class=\"cellClass(r, c)\"\n                :style=\"cellStyle\"\n                @tap=\"onTapCell(r, c)\"\n              >\n                <text class=\"piece\">{{ pieceAt(r, c) }}</text>\n              </view>\n            </view>\n          </view>\n        </view>\n\n        <!-- Â∫ïÈÉ® a-h -->\n        <view class=\"filesRow\" :style=\"filesRowStyle\">\n          <view class=\"filesSpacer\" :style=\"filesSpacerStyle\"></view>\n          <view v-for=\"c in cols\" :key=\"'file_' + c\" class=\"fileCell\" :style=\"fileCellStyle\">\n            <text class=\"coordText\">{{ fileLabel(c) }}</text>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <view class=\"panel\">\n      <view class=\"rowInfo rowFirst\">\n        <text class=\"label\">ÂΩìÂâçÂõûÂêà</text>\n        <text class=\"value\">{{ turnText }}</text>\n      </view>\n\n      <view class=\"rowInfo\">\n        <text class=\"label\">ÈÄâ‰∏≠</text>\n        <text class=\"value\">{{ selectedText }}</text>\n      </view>\n\n      <view class=\"btns\">\n        <view class=\"btn\" @tap=\"resetBoard\">\n          <text class=\"btnText\">ÈáçÁΩÆÊ£ãÁõò</text>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup lang=\"uts\">\nimport { ref, computed } from 'vue'\n\n/* Ë°åÂàó */\nconst rows = [0,1,2,3,4,5,6,7]\nconst cols = [0,1,2,3,4,5,6,7]\n\n/* ========= ‚úÖ Â∞∫ÂØ∏Ôºö‰øÆÂ§ç‚ÄúÊ£ãÁõòÊòæÁ§∫‰∏çÂÖ®‚Äù =========\n   ÊÄªÂÆΩ = boardPx + coordPx\n   ÊâÄ‰ª• boardPx ÂøÖÈ°ªÁî® (ÂèØÁî®ÂÆΩÂ∫¶ - coordPx) Êù•ÁÆó\n   coordPx Âèà‰æùËµñ cellPxÔºåÊâÄ‰ª•Áî® 2~3 Ê¨°Ëø≠‰ª£Êî∂Êïõ\n*/\nconst boardPx = ref<number>(320)\nconst coordPx = ref<number>(22)\n\nfunction clamp(n: number, minV: number, maxV: number): number {\n  if (n < minV) return minV\n  if (n > maxV) return maxV\n  return n\n}\n\nfunction calcCoordFromCell(cell: number): number {\n  let v = Math.floor(cell * 0.55)\n  if (v < 18) v = 18\n  if (v > 26) v = 26\n  return v\n}\n\nfunction recalcSizes() {\n  const info: GetSystemInfoResult = uni.getSystemInfoSync()\n  const ww: number = info.windowWidth\n\n  // È°µÈù¢Â∑¶Âè≥ padding ÂÖ± 36Ôºàpage padding 18px*2Ôºâ\n  const maxTotal = ww - 36\n\n  // ÂàùÂßãÂÅáËÆæ\n  let c = 22\n  let b = maxTotal - c\n\n  // Ëø≠‰ª£‰∏§‰∏âÊ¨°ÔºåËÆ© coordPx ‰∏é cellPx ‰∏ÄËá¥\n  for (let i = 0; i < 3; i++) {\n    // board Á∫¶ÊùüËåÉÂõ¥ + ÂØπÈΩê 8 ÁöÑÂÄçÊï∞\n    b = clamp(b, 240, 360)\n    b = b - (b % 8)\n\n    const cell = b / 8\n    c = calcCoordFromCell(cell)\n\n    // ‰øùËØÅÊÄªÂÆΩ‰∏çË∂Ö\n    b = maxTotal - c\n  }\n\n  // ÊúÄÁªàÂÜçÂØπÈΩê‰∏ÄÊ¨°\n  b = clamp(b, 240, 360)\n  b = b - (b % 8)\n  c = calcCoordFromCell(b / 8)\n\n  boardPx.value = b\n  coordPx.value = c\n}\n\nrecalcSizes()\n\nconst cellPx = computed((): number => boardPx.value / 8)\n\n/* style Â≠óÁ¨¶‰∏≤ */\nconst boardStyle = computed((): string => {\n  const px = boardPx.value.toString() + 'px'\n  return 'width:' + px + ';height:' + px + ';'\n})\n\nconst rowStyle = computed((): string => {\n  const w = boardPx.value.toString() + 'px'\n  const h = cellPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst cellStyle = computed((): string => {\n  const px = cellPx.value.toString() + 'px'\n  return 'width:' + px + ';height:' + px + ';flex:0 0 ' + px + ';'\n})\n\n/* Â§ñÊ°ÜÔºàÂê´ÂùêÊ†áÔºâ */\nconst frameStyle = computed((): string => {\n  const w = (boardPx.value + coordPx.value).toString() + 'px'\n  const h = (boardPx.value + coordPx.value).toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst ranksColStyle = computed((): string => {\n  const w = coordPx.value.toString() + 'px'\n  const h = boardPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst rankCellStyle = computed((): string => {\n  const w = coordPx.value.toString() + 'px'\n  const h = cellPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst filesRowStyle = computed((): string => {\n  const w = (boardPx.value + coordPx.value).toString() + 'px'\n  const h = coordPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst filesSpacerStyle = computed((): string => {\n  const w = coordPx.value.toString() + 'px'\n  const h = coordPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst fileCellStyle = computed((): string => {\n  const w = cellPx.value.toString() + 'px'\n  const h = coordPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nfunction rankLabel(r: number): string { return (8 - r).toString() }\nfunction fileLabel(c: number): string { return String.fromCharCode(97 + c) }\n\n/* ========= ÂØπÂºà ========= */\ntype Turn = 'white' | 'black'\nconst turn = ref<Turn>('white')\n\nclass Pos { r: number; c: number; constructor(r: number, c: number){ this.r=r; this.c=c } }\nconst selected = ref<Pos | null>(null)\n\n/* Unicode */\nconst BR='‚ôú', BN='‚ôû', BB='‚ôù', BQ='‚ôõ', BK='‚ôö', BP='‚ôü'\nconst WR='‚ôñ', WN='‚ôò', WB='‚ôó', WQ='‚ôï', WK='‚ôî', WP='‚ôô'\n\ntype Board = (string | null)[][]\n\nfunction createInitBoard(): Board {\n  return [\n    [BR, BN, BB, BQ, BK, BB, BN, BR],\n    [BP, BP, BP, BP, BP, BP, BP, BP],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    [WP, WP, WP, WP, WP, WP, WP, WP],\n    [WR, WN, WB, WQ, WK, WB, WN, WR]\n  ]\n}\nconst board = ref<Board>(createInitBoard())\n\nfunction pieceAt(r:number,c:number):string{\n  const p = board.value[r][c]\n  return p==null?'':p\n}\n\nfunction isWhitePiece(p:string):boolean{ return p==WR||p==WN||p==WB||p==WQ||p==WK||p==WP }\nfunction isBlackPiece(p:string):boolean{ return p==BR||p==BN||p==BB||p==BQ||p==BK||p==BP }\nfunction colorOf(p:string):Turn{ return isWhitePiece(p)?'white':'black' }\n\n/* ===== ÂêàÊ≥ïËµ∞Â≠êÔºöÂü∫Á°ÄËßÑÂàô + ‰∏çÈÄÅÂ∞Ü ===== */\nfunction inBounds(r:number,c:number):boolean{ return r>=0&&r<8&&c>=0&&c<8 }\n\nfunction cloneBoard(b:Board):Board{\n  const nb:Board=[]\n  for(let i=0;i<8;i++){\n    const nr:(string|null)[]=[]\n    for(let j=0;j<8;j++) nr.push(b[i][j])\n    nb.push(nr)\n  }\n  return nb\n}\n\nfunction isEmpty(b:Board,r:number,c:number):boolean{ return b[r][c]==null }\nfunction isEnemyAt(b:Board,r:number,c:number,me:Turn):boolean{\n  const p=b[r][c]; if(p==null) return false\n  return (me=='white')?isBlackPiece(p):isWhitePiece(p)\n}\n\nfunction rayClear(b:Board,sr:number,sc:number,dr:number,dc:number):boolean{\n  const dR=dr-sr, dC=dc-sc\n  const stepR=dR==0?0:(dR>0?1:-1)\n  const stepC=dC==0?0:(dC>0?1:-1)\n  let r=sr+stepR, c=sc+stepC\n  while(r!=dr || c!=dc){\n    if(!isEmpty(b,r,c)) return false\n    r+=stepR; c+=stepC\n  }\n  return true\n}\n\nfunction pieceType(p:string):string{\n  if(p==WP||p==BP) return 'P'\n  if(p==WN||p==BN) return 'N'\n  if(p==WB||p==BB) return 'B'\n  if(p==WR||p==BR) return 'R'\n  if(p==WQ||p==BQ) return 'Q'\n  return 'K'\n}\n\nfunction findKing(b:Board,who:Turn):Pos|null{\n  const k=(who=='white')?WK:BK\n  for(let r=0;r<8;r++){\n    for(let c=0;c<8;c++){\n      if(b[r][c]==k) return new Pos(r,c)\n    }\n  }\n  return null\n}\n\nfunction isSquareAttacked(b:Board,tr:number,tc:number,by:Turn):boolean{\n  // pawn\n  if(by=='white'){\n    const r=tr+1\n    if(inBounds(r,tc-1)&&b[r][tc-1]==WP) return true\n    if(inBounds(r,tc+1)&&b[r][tc+1]==WP) return true\n  }else{\n    const r=tr-1\n    if(inBounds(r,tc-1)&&b[r][tc-1]==BP) return true\n    if(inBounds(r,tc+1)&&b[r][tc+1]==BP) return true\n  }\n  // knight\n  const kd=[[-2,-1],[-2,1],[-1,-2],[-1,2],[1,-2],[1,2],[2,-1],[2,1]]\n  for(let i=0;i<kd.length;i++){\n    const rr=tr+kd[i][0], cc=tc+kd[i][1]\n    if(!inBounds(rr,cc)) continue\n    const p=b[rr][cc]; if(p==null) continue\n    if(by=='white'&&p==WN) return true\n    if(by=='black'&&p==BN) return true\n  }\n  // king\n  for(let rr=tr-1;rr<=tr+1;rr++){\n    for(let cc=tc-1;cc<=tc+1;cc++){\n      if(rr==tr&&cc==tc) continue\n      if(!inBounds(rr,cc)) continue\n      const p=b[rr][cc]; if(p==null) continue\n      if(by=='white'&&p==WK) return true\n      if(by=='black'&&p==BK) return true\n    }\n  }\n  // rook/queen rays\n  const rd=[[-1,0],[1,0],[0,-1],[0,1]]\n  for(let i=0;i<rd.length;i++){\n    let rr=tr+rd[i][0], cc=tc+rd[i][1]\n    while(inBounds(rr,cc)){\n      const p=b[rr][cc]\n      if(p!=null){\n        if(by=='white'&&(p==WR||p==WQ)) return true\n        if(by=='black'&&(p==BR||p==BQ)) return true\n        break\n      }\n      rr+=rd[i][0]; cc+=rd[i][1]\n    }\n  }\n  // bishop/queen rays\n  const bd=[[-1,-1],[-1,1],[1,-1],[1,1]]\n  for(let i=0;i<bd.length;i++){\n    let rr=tr+bd[i][0], cc=tc+bd[i][1]\n    while(inBounds(rr,cc)){\n      const p=b[rr][cc]\n      if(p!=null){\n        if(by=='white'&&(p==WB||p==WQ)) return true\n        if(by=='black'&&(p==BB||p==BQ)) return true\n        break\n      }\n      rr+=bd[i][0]; cc+=bd[i][1]\n    }\n  }\n  return false\n}\n\nfunction isKingInCheck(b:Board,who:Turn):boolean{\n  const k=findKing(b,who)\n  if(k==null) return false\n  const opp:Turn=(who=='white')?'black':'white'\n  return isSquareAttacked(b,k.r,k.c,opp)\n}\n\nfunction canMovePieceRaw(b:Board,sr:number,sc:number,dr:number,dc:number,who:Turn):boolean{\n  if(!inBounds(sr,sc)||!inBounds(dr,dc)) return false\n  if(sr==dr&&sc==dc) return false\n  const p=b[sr][sc]; if(p==null) return false\n  if(colorOf(p)!=who) return false\n  const dst=b[dr][dc]\n  if(dst!=null && colorOf(dst)==who) return false\n\n  const t=pieceType(p)\n  const dR=dr-sr, dC=dc-sc\n  const absR=Math.abs(dR), absC=Math.abs(dC)\n\n  if(t=='P'){\n    const dir=(who=='white')?-1:1\n    const startRow=(who=='white')?6:1\n    if(dC==0){\n      if(dR==dir && isEmpty(b,dr,dc)) return true\n      if(sr==startRow && dR==2*dir){\n        const mid=sr+dir\n        if(isEmpty(b,mid,sc)&&isEmpty(b,dr,dc)) return true\n      }\n      return false\n    }\n    if(absC==1 && dR==dir){\n      return isEnemyAt(b,dr,dc,who)\n    }\n    return false\n  }\n\n  if(t=='N'){\n    return (absR==2&&absC==1)||(absR==1&&absC==2)\n  }\n\n  if(t=='B'){\n    if(absR!=absC) return false\n    return rayClear(b,sr,sc,dr,dc)\n  }\n\n  if(t=='R'){\n    if(!(dR==0||dC==0)) return false\n    return rayClear(b,sr,sc,dr,dc)\n  }\n\n  if(t=='Q'){\n    const ok=(absR==absC)||(dR==0||dC==0)\n    if(!ok) return false\n    return rayClear(b,sr,sc,dr,dc)\n  }\n\n  // K\n  return absR<=1 && absC<=1\n}\n\nfunction isLegalMove(b:Board,sr:number,sc:number,dr:number,dc:number,who:Turn):boolean{\n  if(!canMovePieceRaw(b,sr,sc,dr,dc,who)) return false\n  const nb=cloneBoard(b)\n  nb[dr][dc]=nb[sr][sc]\n  nb[sr][sc]=null\n  if(isKingInCheck(nb,who)) return false\n  return true\n}\n\n/* ===== ‚úÖ ÁªìÊùüÂà§Êñ≠ÔºàÂ∞ÜÊ≠ª/ÂíåÊ£ãÔºâ ===== */\nfunction hasAnyLegalMove(b: Board, who: Turn): boolean {\n  for (let sr = 0; sr < 8; sr++) {\n    for (let sc = 0; sc < 8; sc++) {\n      const p = b[sr][sc]\n      if (p == null) continue\n      if (colorOf(p) !== who) continue\n\n      for (let dr = 0; dr < 8; dr++) {\n        for (let dc = 0; dc < 8; dc++) {\n          if (isLegalMove(b, sr, sc, dr, dc, who)) return true\n        }\n      }\n    }\n  }\n  return false\n}\n\ntype EndState = 'playing' | 'checkmate' | 'stalemate'\n\nfunction getEndStateForSideToMove(b: Board, sideToMove: Turn): EndState {\n  const hasMove = hasAnyLegalMove(b, sideToMove)\n  if (hasMove) return 'playing'\n  const inCheck = isKingInCheck(b, sideToMove)\n  return inCheck ? 'checkmate' : 'stalemate'\n}\n\nfunction opposite(who: Turn): Turn { return who == 'white' ? 'black' : 'white' }\n\n/* ===== ‚úÖ ÂÖµÂçáÂèò ===== */\nfunction promotionPiece(who: Turn, choice: number): string {\n  // choice: 0=Q,1=R,2=B,3=N\n  if (who == 'white') {\n    if (choice == 1) return WR\n    if (choice == 2) return WB\n    if (choice == 3) return WN\n    return WQ\n  } else {\n    if (choice == 1) return BR\n    if (choice == 2) return BB\n    if (choice == 3) return BN\n    return BQ\n  }\n}\n\nfunction shouldPromote(p: string, dr: number): boolean {\n  if (p == WP && dr == 0) return true\n  if (p == BP && dr == 7) return true\n  return false\n}\n\nfunction askPromotion(who: Turn): Promise<number> {\n  // ËøîÂõû choice: 0..3ÔºõÂèñÊ∂à/Â§±Ë¥•ËøîÂõû 0ÔºàÈªòËÆ§ÂçáÂêéÔºâ\n  return new Promise((resolve) => {\n    uni.showActionSheet({\n      itemList: ['ÂçáÂêé ‚ôï/‚ôõ', 'ÂçáËΩ¶ ‚ôñ/‚ôú', 'ÂçáË±° ‚ôó/‚ôù', 'ÂçáÈ©¨ ‚ôò/‚ôû'],\n      success: (res: ShowActionSheetSuccess) => {\n        const idx: number = res.tapIndex\n        if (idx >= 0 && idx <= 3) resolve(idx)\n        else resolve(0)\n      },\n      fail: () => {\n        resolve(0)\n      }\n    })\n  })\n}\n\nasync function promoteIfNeeded(b: Board, dr: number, dc: number, movedPiece: string, whoMoved: Turn) {\n  if (!shouldPromote(movedPiece, dr)) return\n  const choice = await askPromotion(whoMoved)\n  b[dr][dc] = promotionPiece(whoMoved, choice)\n}\n\n/* ===== ‚úÖ resetBoardÔºöÂè™‰øùÁïô‰∏Ä‰ªΩÔºåÂπ∂‰∏îÊîæÂú® onTapCell ÂâçÈù¢ ===== */\nfunction resetBoard(){\n  board.value=createInitBoard()\n  selected.value=null\n  turn.value='white'\n}\n\n/* ===== ‰∫§‰∫í ===== */\nasync function onTapCell(r:number,c:number){\n  const piece=board.value[r][c]\n\n  if(selected.value==null){\n    if(piece==null) return\n    if(turn.value=='white'&&isWhitePiece(piece)) selected.value=new Pos(r,c)\n    else if(turn.value=='black'&&isBlackPiece(piece)) selected.value=new Pos(r,c)\n    return\n  }\n\n  const sr=selected.value.r, sc=selected.value.c\n  const moving=board.value[sr][sc]\n  if(moving==null){ selected.value=null; return }\n\n  // ÁÇπÂà∞Â∑±ÊñπÂ≠êÔºöÊîπÈÄâ\n  if(piece!=null && (\n    (turn.value=='white' && isWhitePiece(piece)) ||\n    (turn.value=='black' && isBlackPiece(piece))\n  )){\n    selected.value=new Pos(r,c)\n    return\n  }\n\n  const ok=isLegalMove(board.value,sr,sc,r,c,turn.value)\n  if(!ok){\n    uni.showToast({ title:'ÈùûÊ≥ïËµ∞Ê≥ï', icon:'none' })\n    return\n  }\n\n  // ===== ËêΩÂ≠ê =====\n  const whoMoved: Turn = turn.value\n  board.value[r][c]=moving\n  board.value[sr][sc]=null\n  selected.value=null\n\n  // ===== ‚úÖ ÂÖµÂçáÂèòÔºàÂÖàÂçáÂèòÔºåÂÜçÂàáÂõûÂêà/Âà§ÁªàÂ±ÄÔºâ=====\n  await promoteIfNeeded(board.value, r, c, moving, whoMoved)\n\n  // ===== ÂàáÊç¢ÂõûÂêà =====\n  const nextTurn: Turn = opposite(whoMoved)\n  turn.value = nextTurn\n\n  // ===== ‚úÖ ÁªìÊùüÂà§Êñ≠ÔºöÂ∞ÜÊ≠ª / ÂíåÊ£ã =====\n  const endState = getEndStateForSideToMove(board.value, nextTurn)\n  if (endState != 'playing') {\n    let msg = ''\n    if (endState == 'checkmate') {\n      // nextTurn Êó†Ê£ãÂèØËµ∞‰∏îË¢´Â∞ÜÂÜõ => nextTurn ËæìÔºåwhoMoved Ëµ¢\n      msg = (whoMoved == 'white') ? 'ÁôΩÊñπËÉúÂà©ÔºàÂ∞ÜÊ≠ªÔºâÔºÅ' : 'ÈªëÊñπËÉúÂà©ÔºàÂ∞ÜÊ≠ªÔºâÔºÅ'\n    } else {\n      msg = 'ÂíåÊ£ãÔºàÊó†ÂêàÊ≥ïËµ∞Ê≥ïÔºâü§ù'\n    }\n\n    uni.showModal({\n      title: 'ÂØπÂ±ÄÁªìÊùü',\n      content: msg,\n      showCancel: false,\n      success: () => { resetBoard() }\n    })\n  }\n}\n\nfunction cellClass(r:number,c:number):string{\n  let cls=((r+c)%2==1)?'dark':'light'\n  if(selected.value!=null && selected.value.r==r && selected.value.c==c){\n    cls=cls+' selected'\n  }\n  return cls\n}\n\nconst selectedText = computed(():string=>{\n  if(selected.value==null) return 'Êó†'\n  const file=String.fromCharCode(97+selected.value.c)\n  const rank=(8-selected.value.r).toString()\n  return file+rank\n})\n\nconst turnText = computed(():string => (turn.value=='white'?'ÁôΩÊñπÂõûÂêà':'ÈªëÊñπÂõûÂêà'))\n\n</script>\n\n<style >.page {\n  padding: 18px;\n  display: flex;\n  flex-direction: column;\n}\n\n.head {\n  margin-bottom: 12px;\n}\n\n.h1 {\n  font-size: 20px;\n  font-weight: 700;\n}\n\n.sub {\n  font-size: 12px;\n  opacity: 0.6;\n  margin-top: 4px;\n}\n\n.boardWrap {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 14px;\n}\n\n/* ===== ÂùêÊ†áÊ°ÜÊï¥‰Ωì ===== */\n.boardFrame {\n  display: flex;\n  flex-direction: column;\n  /* ÂéªÊéâÂúÜËßí */\n  border-radius: 0;\n  /* ÂèØ‰ª•‰øùÁïôÔºå‰πüÂèØ‰ª•ÂéªÊéâ */\n  overflow: hidden;\n  /* Â§ñÊ°Ü */\n  border: none;\n\n  background: transparent;\n  box-sizing: border-box;\n}\n\n\n.boardRowWrap {\n  display: flex;\n  flex-direction: row;\n}\n\n/* Â∑¶‰æß 8-1 */\n.ranksCol {\n  display: flex;\n  flex-direction: column;\n  /* ‚úÖ ‰∏çË¶ÅÁÅ∞Â∫ï */\n  background: transparent;\n  box-sizing: border-box;\n}\n\n.rankCell {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n}\n\n/* Â∫ïÈÉ® a-h */\n.filesRow {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  /* ‚úÖ ‰∏çË¶ÅÁÅ∞Â∫ï */\n  background: transparent;\n  box-sizing: border-box;\n}\n\n.filesSpacer {\n  flex-shrink: 0;\n  /* ‚úÖ ‰∏çË¶ÅÁÅ∞Â∫ï */\n  background: transparent;\n}\n\n.fileCell {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n}\n\n.coordText {\n  font-size: 12px;\n  opacity: 0.6;\n  font-weight: 700;\n}\n\n/* ===== Ê£ãÁõòÊú¨‰Ωì ===== */\n.board {\n  overflow: hidden;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n}\n\n.boardRow {\n  display: flex;\n  flex-direction: row;\n}\n\n.cell {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  flex-shrink: 0;\n}\n\n.light { background: #f0d9b5; }\n.dark  { background: #b58863; }\n\n.selected {\n  border: 3px solid rgba(31,111,235,0.9);\n  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.25);\n}\n\n.piece {\n  font-size: 26px;\n  line-height: 26px;\n}\n\n.panel {\n  padding: 14px;\n  border-radius: 14px;\n  border: 1px solid rgba(0,0,0,0.08);\n  background: rgba(0,0,0,0.02);\n}\n\n.rowInfo {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 0;\n  border-top: 1px solid rgba(0,0,0,0.06);\n}\n\n.rowFirst {\n  border-top: none;\n  padding-top: 0;\n}\n\n.label {\n  font-size: 12px;\n  opacity: 0.6;\n}\n\n.value {\n  font-size: 14px;\n  font-weight: 700;\n}\n\n.btns {\n  margin-top: 12px;\n}\n\n.btn {\n  height: 42px;\n  border-radius: 12px;\n  background: rgba(31,111,235,0.12);\n  border: 1px solid rgba(31,111,235,0.25);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.btnText {\n  font-size: 14px;\n  font-weight: 700;\n}\n</style>\n"],"names":[],"mappings":"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"}