{"version":3,"sources":["pages/game/game.uvue"],"names":[],"mappings":"AAiEA,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,KAAK,CAAA;AAEnC,QAAQ;AAwHR,KAAK,IAAI,GAAG,OAAO,GAAG,OAAO,CAAA;AAU7B,KAAK,KAAK,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,EAAE,EAAE,CAAA;AA+NhC,KAAK,QAAQ,GAAG,SAAS,GAAG,WAAW,GAAG,WAAW,CAAA;;;;;;;QAhWrD,MAAM,IAAI,GAAG,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,CAAA;QAC9B,MAAM,IAAI,GAAG,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,CAAA;QAE9B;;;;UAIE;QACF,MAAM,OAAO,GAAG,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,CAAA;QAChC,MAAM,OAAO,GAAG,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC,CAAA;QAE/B,SAAS,KAAK,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,GAAG,MAAM;YAC3D,IAAI,CAAC,GAAG,IAAI;gBAAE,OAAO,IAAI,CAAA;YACzB,IAAI,CAAC,GAAG,IAAI;gBAAE,OAAO,IAAI,CAAA;YACzB,OAAO,CAAC,CAAA;QACV,CAAC;QAED,SAAS,iBAAiB,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM;YAC9C,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAA;YAC/B,IAAI,CAAC,GAAG,EAAE;gBAAE,CAAC,GAAG,EAAE,CAAA;YAClB,IAAI,CAAC,GAAG,EAAE;gBAAE,CAAC,GAAG,EAAE,CAAA;YAClB,OAAO,CAAC,CAAA;QACV,CAAC;QAED,SAAS,WAAW;YAClB,MAAM,IAAI,EAAE,mBAAmB,GAAG,GAAG,CAAC,iBAAiB,EAAE,CAAA;YACzD,MAAM,EAAE,EAAE,MAAM,GAAG,IAAI,CAAC,WAAW,CAAA;YAEnC,yCAAyC;YACzC,MAAM,QAAQ,GAAG,EAAE,GAAG,EAAE,CAAA;YAExB,OAAO;YACP,IAAI,CAAC,GAAG,EAAE,CAAA;YACV,IAAI,CAAC,GAAG,QAAQ,GAAG,CAAC,CAAA;YAEpB,8BAA8B;YAC9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC1B,wBAAwB;gBACxB,CAAC,GAAG,KAAK,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,CAAA;gBACtB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAA;gBAEf,MAAM,IAAI,GAAG,CAAC,GAAG,CAAC,CAAA;gBAClB,CAAC,GAAG,iBAAiB,CAAC,IAAI,CAAC,CAAA;gBAE3B,SAAS;gBACT,CAAC,GAAG,QAAQ,GAAG,CAAC,CAAA;aACjB;YAED,UAAU;YACV,CAAC,GAAG,KAAK,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,CAAA;YACtB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAA;YACf,CAAC,GAAG,iBAAiB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAA;YAE5B,OAAO,CAAC,KAAK,GAAG,CAAC,CAAA;YACjB,OAAO,CAAC,KAAK,GAAG,CAAC,CAAA;QACnB,CAAC;QAED,WAAW,EAAE,CAAA;QAEb,MAAM,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC,CAAA;QAExD,eAAe;QACf,MAAM,UAAU,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,EAAE;YACvC,MAAM,EAAE,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,IAAE,GAAG,IAAI,CAAA;YAC1C,OAAO,QAAQ,GAAG,EAAE,GAAG,UAAU,GAAG,EAAE,GAAG,GAAG,CAAA;QAC9C,CAAC,CAAC,CAAA;QAEF,MAAM,QAAQ,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,EAAE;YACrC,MAAM,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,IAAE,GAAG,IAAI,CAAA;YACzC,MAAM,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,QAAQ,IAAE,GAAG,IAAI,CAAA;YACxC,OAAO,QAAQ,GAAG,CAAC,GAAG,UAAU,GAAG,CAAC,GAAG,GAAG,CAAA;QAC5C,CAAC,CAAC,CAAA;QAEF,MAAM,SAAS,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,EAAE;YACtC,MAAM,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,QAAQ,IAAE,GAAG,IAAI,CAAA;YACzC,OAAO,QAAQ,GAAG,EAAE,GAAG,UAAU,GAAG,EAAE,GAAG,YAAY,GAAG,EAAE,GAAG,GAAG,CAAA;QAClE,CAAC,CAAC,CAAA;QAEF,aAAa;QACb,MAAM,UAAU,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,EAAE;YACvC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,QAAQ,IAAE,GAAG,IAAI,CAAA;YAC3D,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,QAAQ,IAAE,GAAG,IAAI,CAAA;YAC3D,OAAO,QAAQ,GAAG,CAAC,GAAG,UAAU,GAAG,CAAC,GAAG,GAAG,CAAA;QAC5C,CAAC,CAAC,CAAA;QAEF,MAAM,aAAa,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,EAAE;YAC1C,MAAM,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,IAAE,GAAG,IAAI,CAAA;YACzC,MAAM,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,IAAE,GAAG,IAAI,CAAA;YACzC,OAAO,QAAQ,GAAG,CAAC,GAAG,UAAU,GAAG,CAAC,GAAG,GAAG,CAAA;QAC5C,CAAC,CAAC,CAAA;QAEF,MAAM,aAAa,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,EAAE;YAC1C,MAAM,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,IAAE,GAAG,IAAI,CAAA;YACzC,MAAM,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,QAAQ,IAAE,GAAG,IAAI,CAAA;YACxC,OAAO,QAAQ,GAAG,CAAC,GAAG,UAAU,GAAG,CAAC,GAAG,GAAG,CAAA;QAC5C,CAAC,CAAC,CAAA;QAEF,MAAM,aAAa,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,EAAE;YAC1C,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,QAAQ,IAAE,GAAG,IAAI,CAAA;YAC3D,MAAM,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,IAAE,GAAG,IAAI,CAAA;YACzC,OAAO,QAAQ,GAAG,CAAC,GAAG,UAAU,GAAG,CAAC,GAAG,GAAG,CAAA;QAC5C,CAAC,CAAC,CAAA;QAEF,MAAM,gBAAgB,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,EAAE;YAC7C,MAAM,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,IAAE,GAAG,IAAI,CAAA;YACzC,MAAM,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,IAAE,GAAG,IAAI,CAAA;YACzC,OAAO,QAAQ,GAAG,CAAC,GAAG,UAAU,GAAG,CAAC,GAAG,GAAG,CAAA;QAC5C,CAAC,CAAC,CAAA;QAEF,MAAM,aAAa,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,EAAE;YAC1C,MAAM,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,QAAQ,IAAE,GAAG,IAAI,CAAA;YACxC,MAAM,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,IAAE,GAAG,IAAI,CAAA;YACzC,OAAO,QAAQ,GAAG,CAAC,GAAG,UAAU,GAAG,CAAC,GAAG,GAAG,CAAA;QAC5C,CAAC,CAAC,CAAA;QAEF,SAAS,SAAS,CAAC,CAAC,EAAE,MAAM,GAAG,MAAM,GAAG,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,IAAE,CAAA,CAAC,CAAC;QACnE,SAAS,SAAS,CAAC,CAAC,EAAE,MAAM,GAAG,MAAM,GAAG,OAAO,MAAM,CAAC,YAAY,CAAC,EAAE,GAAG,CAAC,CAAC,CAAA,CAAC,CAAC;QAE5E,4BAA4B;QAE5B,MAAM,IAAI,GAAG,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,CAAA;QAE/B,MAAM,GAAG;YAAG,CAAC,GAAE,MAAM,CAAC;YAAC,CAAC,GAAE,MAAM,CAAC;YAAC,YAAY,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,MAAM,IAAG,IAAI,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAC,CAAC,CAAA,CAAC,CAAC;SAAE;QAC3F,MAAM,QAAQ,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,EAAE,IAAI,CAAC,CAAA;QAEtC,aAAa;QACb,MAAM,EAAE,GAAC,GAAG,EAAE,EAAE,GAAC,GAAG,EAAE,EAAE,GAAC,GAAG,EAAE,EAAE,GAAC,GAAG,EAAE,EAAE,GAAC,GAAG,EAAE,EAAE,GAAC,GAAG,CAAA;QACpD,MAAM,EAAE,GAAC,GAAG,EAAE,EAAE,GAAC,GAAG,EAAE,EAAE,GAAC,GAAG,EAAE,EAAE,GAAC,GAAG,EAAE,EAAE,GAAC,GAAG,EAAE,EAAE,GAAC,GAAG,CAAA;QAIpD,SAAS,eAAe,IAAI,KAAK;YAC/B,OAAO;gBACL,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;gBAChC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;gBAChC,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;gBAChD,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;gBAChD,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;gBAChD,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;gBAChD,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;gBAChC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;aACjC,CAAA;QACH,CAAC;QACD,MAAM,KAAK,GAAG,GAAG,CAAC,KAAK,EAAE,eAAe,EAAE,CAAC,CAAA;QAE3C,SAAS,OAAO,CAAC,CAAC,EAAC,MAAM,EAAC,CAAC,EAAC,MAAM,GAAE,MAAM;YACxC,MAAM,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;YAC3B,OAAO,CAAC,IAAE,IAAI,CAAA,CAAC,CAAA,EAAE,CAAA,CAAC,CAAA,CAAC,CAAA;QACrB,CAAC;QAED,SAAS,YAAY,CAAC,CAAC,EAAC,MAAM,GAAE,OAAO,GAAE,OAAO,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE,CAAA,CAAC,CAAC;QAC1F,SAAS,YAAY,CAAC,CAAC,EAAC,MAAM,GAAE,OAAO,GAAE,OAAO,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE,CAAA,CAAC,CAAC;QAC1F,SAAS,OAAO,CAAC,CAAC,EAAC,MAAM,GAAE,IAAI,GAAE,OAAO,YAAY,CAAC,CAAC,CAAC,CAAA,CAAC,CAAA,OAAO,CAAA,CAAC,CAAA,OAAO,CAAA,CAAC,CAAC;QAEzE,iCAAiC;QACjC,SAAS,QAAQ,CAAC,CAAC,EAAC,MAAM,EAAC,CAAC,EAAC,MAAM,GAAE,OAAO,GAAE,OAAO,CAAC,IAAE,CAAC,IAAE,CAAC,GAAC,CAAC,IAAE,CAAC,IAAE,CAAC,IAAE,CAAC,GAAC,CAAC,CAAA,CAAC,CAAC;QAE3E,SAAS,UAAU,CAAC,CAAC,EAAC,KAAK,GAAE,KAAK;YAChC,MAAM,EAAE,EAAC,KAAK,GAAC,EAAE,CAAA;YACjB,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,CAAC,EAAC,CAAC,EAAE,EAAC;gBAClB,MAAM,EAAE,EAAC,CAAC,MAAM,GAAC,IAAI,CAAC,EAAE,GAAC,EAAE,CAAA;gBAC3B,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,CAAC,EAAC,CAAC,EAAE;oBAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;gBACrC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;aACZ;YACD,OAAO,EAAE,CAAA;QACX,CAAC;QAED,SAAS,OAAO,CAAC,CAAC,EAAC,KAAK,EAAC,CAAC,EAAC,MAAM,EAAC,CAAC,EAAC,MAAM,GAAE,OAAO,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAE,IAAI,CAAA,CAAC,CAAC;QAC3E,SAAS,SAAS,CAAC,CAAC,EAAC,KAAK,EAAC,CAAC,EAAC,MAAM,EAAC,CAAC,EAAC,MAAM,EAAC,EAAE,EAAC,IAAI,GAAE,OAAO;YAC3D,MAAM,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAAC,IAAG,CAAC,IAAE,IAAI;gBAAE,OAAO,KAAK,CAAA;YACzC,OAAO,CAAC,EAAE,IAAE,OAAO,CAAC,CAAA,CAAC,CAAA,YAAY,CAAC,CAAC,CAAC,CAAA,CAAC,CAAA,YAAY,CAAC,CAAC,CAAC,CAAA;QACtD,CAAC;QAED,SAAS,QAAQ,CAAC,CAAC,EAAC,KAAK,EAAC,EAAE,EAAC,MAAM,EAAC,EAAE,EAAC,MAAM,EAAC,EAAE,EAAC,MAAM,EAAC,EAAE,EAAC,MAAM,GAAE,OAAO;YACxE,MAAM,EAAE,GAAC,EAAE,GAAC,EAAE,EAAE,EAAE,GAAC,EAAE,GAAC,EAAE,CAAA;YACxB,MAAM,KAAK,GAAC,EAAE,IAAE,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,EAAE,GAAC,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAC,CAAC,CAAA;YAC/B,MAAM,KAAK,GAAC,EAAE,IAAE,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,EAAE,GAAC,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAC,CAAC,CAAA;YAC/B,IAAI,CAAC,GAAC,EAAE,GAAC,KAAK,EAAE,CAAC,GAAC,EAAE,GAAC,KAAK,CAAA;YAC1B,OAAM,CAAC,IAAE,EAAE,IAAI,CAAC,IAAE,EAAE,EAAC;gBACnB,IAAG,CAAC,OAAO,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC;oBAAE,OAAO,KAAK,CAAA;gBAChC,CAAC,IAAE,KAAK,CAAC;gBAAC,CAAC,IAAE,KAAK,CAAA;aACnB;YACD,OAAO,IAAI,CAAA;QACb,CAAC;QAED,SAAS,SAAS,CAAC,CAAC,EAAC,MAAM,GAAE,MAAM;YACjC,IAAG,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE;gBAAE,OAAO,GAAG,CAAA;YAC3B,IAAG,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE;gBAAE,OAAO,GAAG,CAAA;YAC3B,IAAG,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE;gBAAE,OAAO,GAAG,CAAA;YAC3B,IAAG,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE;gBAAE,OAAO,GAAG,CAAA;YAC3B,IAAG,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE;gBAAE,OAAO,GAAG,CAAA;YAC3B,OAAO,GAAG,CAAA;QACZ,CAAC;QAED,SAAS,QAAQ,CAAC,CAAC,EAAC,KAAK,EAAC,GAAG,EAAC,IAAI,GAAE,GAAG,GAAC,IAAI;YAC1C,MAAM,CAAC,GAAC,CAAC,GAAG,IAAE,OAAO,CAAC,CAAA,CAAC,CAAA,EAAE,CAAA,CAAC,CAAA,EAAE,CAAA;YAC5B,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,CAAC,EAAC,CAAC,EAAE,EAAC;gBAClB,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,CAAC,EAAC,CAAC,EAAE,EAAC;oBAClB,IAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAE,CAAC;wBAAE,OAAO,IAAI,GAAG,CAAC,CAAC,EAAC,CAAC,CAAC,CAAA;iBACnC;aACF;YACD,OAAO,IAAI,CAAA;QACb,CAAC;QAED,SAAS,gBAAgB,CAAC,CAAC,EAAC,KAAK,EAAC,EAAE,EAAC,MAAM,EAAC,EAAE,EAAC,MAAM,EAAC,EAAE,EAAC,IAAI,GAAE,OAAO;YACpE,OAAO;YACP,IAAG,EAAE,IAAE,OAAO,EAAC;gBACb,MAAM,CAAC,GAAC,EAAE,GAAC,CAAC,CAAA;gBACZ,IAAG,QAAQ,CAAC,CAAC,EAAC,EAAE,GAAC,CAAC,CAAC,IAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAC,CAAC,CAAC,IAAE,EAAE;oBAAE,OAAO,IAAI,CAAA;gBAChD,IAAG,QAAQ,CAAC,CAAC,EAAC,EAAE,GAAC,CAAC,CAAC,IAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAC,CAAC,CAAC,IAAE,EAAE;oBAAE,OAAO,IAAI,CAAA;aACjD;iBAAI;gBACH,MAAM,CAAC,GAAC,EAAE,GAAC,CAAC,CAAA;gBACZ,IAAG,QAAQ,CAAC,CAAC,EAAC,EAAE,GAAC,CAAC,CAAC,IAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAC,CAAC,CAAC,IAAE,EAAE;oBAAE,OAAO,IAAI,CAAA;gBAChD,IAAG,QAAQ,CAAC,CAAC,EAAC,EAAE,GAAC,CAAC,CAAC,IAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAC,CAAC,CAAC,IAAE,EAAE;oBAAE,OAAO,IAAI,CAAA;aACjD;YACD,SAAS;YACT,MAAM,EAAE,GAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAA;YAClE,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,EAAE,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;gBAC1B,MAAM,EAAE,GAAC,EAAE,GAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,GAAC,EAAE,GAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;gBACpC,IAAG,CAAC,QAAQ,CAAC,EAAE,EAAC,EAAE,CAAC;oBAAE,SAAQ;gBAC7B,MAAM,CAAC,GAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;gBAAC,IAAG,CAAC,IAAE,IAAI;oBAAE,SAAQ;gBACvC,IAAG,EAAE,IAAE,OAAO,IAAE,CAAC,IAAE,EAAE;oBAAE,OAAO,IAAI,CAAA;gBAClC,IAAG,EAAE,IAAE,OAAO,IAAE,CAAC,IAAE,EAAE;oBAAE,OAAO,IAAI,CAAA;aACnC;YACD,OAAO;YACP,KAAI,IAAI,EAAE,GAAC,EAAE,GAAC,CAAC,EAAC,EAAE,IAAE,EAAE,GAAC,CAAC,EAAC,EAAE,EAAE,EAAC;gBAC5B,KAAI,IAAI,EAAE,GAAC,EAAE,GAAC,CAAC,EAAC,EAAE,IAAE,EAAE,GAAC,CAAC,EAAC,EAAE,EAAE,EAAC;oBAC5B,IAAG,EAAE,IAAE,EAAE,IAAE,EAAE,IAAE,EAAE;wBAAE,SAAQ;oBAC3B,IAAG,CAAC,QAAQ,CAAC,EAAE,EAAC,EAAE,CAAC;wBAAE,SAAQ;oBAC7B,MAAM,CAAC,GAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;oBAAC,IAAG,CAAC,IAAE,IAAI;wBAAE,SAAQ;oBACvC,IAAG,EAAE,IAAE,OAAO,IAAE,CAAC,IAAE,EAAE;wBAAE,OAAO,IAAI,CAAA;oBAClC,IAAG,EAAE,IAAE,OAAO,IAAE,CAAC,IAAE,EAAE;wBAAE,OAAO,IAAI,CAAA;iBACnC;aACF;YACD,kBAAkB;YAClB,MAAM,EAAE,GAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAA;YACpC,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,EAAE,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;gBAC1B,IAAI,EAAE,GAAC,EAAE,GAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,GAAC,EAAE,GAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;gBAClC,OAAM,QAAQ,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC;oBACpB,MAAM,CAAC,GAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAA;oBACjB,IAAG,CAAC,IAAE,IAAI,EAAC;wBACT,IAAG,EAAE,IAAE,OAAO,IAAE,CAAC,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE,CAAC;4BAAE,OAAO,IAAI,CAAA;wBAC3C,IAAG,EAAE,IAAE,OAAO,IAAE,CAAC,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE,CAAC;4BAAE,OAAO,IAAI,CAAA;wBAC3C,MAAK;qBACN;oBACD,EAAE,IAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAAC,EAAE,IAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;iBAC3B;aACF;YACD,oBAAoB;YACpB,MAAM,EAAE,GAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAA;YACtC,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,EAAE,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;gBAC1B,IAAI,EAAE,GAAC,EAAE,GAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,GAAC,EAAE,GAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;gBAClC,OAAM,QAAQ,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC;oBACpB,MAAM,CAAC,GAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAA;oBACjB,IAAG,CAAC,IAAE,IAAI,EAAC;wBACT,IAAG,EAAE,IAAE,OAAO,IAAE,CAAC,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE,CAAC;4BAAE,OAAO,IAAI,CAAA;wBAC3C,IAAG,EAAE,IAAE,OAAO,IAAE,CAAC,CAAC,IAAE,EAAE,IAAE,CAAC,IAAE,EAAE,CAAC;4BAAE,OAAO,IAAI,CAAA;wBAC3C,MAAK;qBACN;oBACD,EAAE,IAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAAC,EAAE,IAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;iBAC3B;aACF;YACD,OAAO,KAAK,CAAA;QACd,CAAC;QAED,SAAS,aAAa,CAAC,CAAC,EAAC,KAAK,EAAC,GAAG,EAAC,IAAI,GAAE,OAAO;YAC9C,MAAM,CAAC,GAAC,QAAQ,CAAC,CAAC,EAAC,GAAG,CAAC,CAAA;YACvB,IAAG,CAAC,IAAE,IAAI;gBAAE,OAAO,KAAK,CAAA;YACxB,MAAM,GAAG,EAAC,IAAI,GAAC,CAAC,GAAG,IAAE,OAAO,CAAC,CAAA,CAAC,CAAA,OAAO,CAAA,CAAC,CAAA,OAAO,CAAA;YAC7C,OAAO,gBAAgB,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAC,GAAG,CAAC,CAAA;QACxC,CAAC;QAED,SAAS,eAAe,CAAC,CAAC,EAAC,KAAK,EAAC,EAAE,EAAC,MAAM,EAAC,EAAE,EAAC,MAAM,EAAC,EAAE,EAAC,MAAM,EAAC,EAAE,EAAC,MAAM,EAAC,GAAG,EAAC,IAAI,GAAE,OAAO;YACxF,IAAG,CAAC,QAAQ,CAAC,EAAE,EAAC,EAAE,CAAC,IAAE,CAAC,QAAQ,CAAC,EAAE,EAAC,EAAE,CAAC;gBAAE,OAAO,KAAK,CAAA;YACnD,IAAG,EAAE,IAAE,EAAE,IAAE,EAAE,IAAE,EAAE;gBAAE,OAAO,KAAK,CAAA;YAC/B,MAAM,CAAC,GAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YAAC,IAAG,CAAC,IAAE,IAAI;gBAAE,OAAO,KAAK,CAAA;YAC3C,IAAG,OAAO,CAAC,CAAC,CAAC,IAAE,GAAG;gBAAE,OAAO,KAAK,CAAA;YAChC,MAAM,GAAG,GAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAA;YACnB,IAAG,GAAG,IAAE,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,IAAE,GAAG;gBAAE,OAAO,KAAK,CAAA;YAE/C,MAAM,CAAC,GAAC,SAAS,CAAC,CAAC,CAAC,CAAA;YACpB,MAAM,EAAE,GAAC,EAAE,GAAC,EAAE,EAAE,EAAE,GAAC,EAAE,GAAC,EAAE,CAAA;YACxB,MAAM,IAAI,GAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,GAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAA;YAE1C,IAAG,CAAC,IAAE,GAAG,EAAC;gBACR,MAAM,GAAG,GAAC,CAAC,GAAG,IAAE,OAAO,CAAC,CAAA,CAAC,CAAA,CAAC,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA;gBAC7B,MAAM,QAAQ,GAAC,CAAC,GAAG,IAAE,OAAO,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA;gBACjC,IAAG,EAAE,IAAE,CAAC,EAAC;oBACP,IAAG,EAAE,IAAE,GAAG,IAAI,OAAO,CAAC,CAAC,EAAC,EAAE,EAAC,EAAE,CAAC;wBAAE,OAAO,IAAI,CAAA;oBAC3C,IAAG,EAAE,IAAE,QAAQ,IAAI,EAAE,IAAE,CAAC,GAAC,GAAG,EAAC;wBAC3B,MAAM,GAAG,GAAC,EAAE,GAAC,GAAG,CAAA;wBAChB,IAAG,OAAO,CAAC,CAAC,EAAC,GAAG,EAAC,EAAE,CAAC,IAAE,OAAO,CAAC,CAAC,EAAC,EAAE,EAAC,EAAE,CAAC;4BAAE,OAAO,IAAI,CAAA;qBACpD;oBACD,OAAO,KAAK,CAAA;iBACb;gBACD,IAAG,IAAI,IAAE,CAAC,IAAI,EAAE,IAAE,GAAG,EAAC;oBACpB,OAAO,SAAS,CAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,CAAC,CAAA;iBAC9B;gBACD,OAAO,KAAK,CAAA;aACb;YAED,IAAG,CAAC,IAAE,GAAG,EAAC;gBACR,OAAO,CAAC,IAAI,IAAE,CAAC,IAAE,IAAI,IAAE,CAAC,CAAC,IAAE,CAAC,IAAI,IAAE,CAAC,IAAE,IAAI,IAAE,CAAC,CAAC,CAAA;aAC9C;YAED,IAAG,CAAC,IAAE,GAAG,EAAC;gBACR,IAAG,IAAI,IAAE,IAAI;oBAAE,OAAO,KAAK,CAAA;gBAC3B,OAAO,QAAQ,CAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,CAAC,CAAA;aAC/B;YAED,IAAG,CAAC,IAAE,GAAG,EAAC;gBACR,IAAG,CAAC,CAAC,EAAE,IAAE,CAAC,IAAE,EAAE,IAAE,CAAC,CAAC;oBAAE,OAAO,KAAK,CAAA;gBAChC,OAAO,QAAQ,CAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,CAAC,CAAA;aAC/B;YAED,IAAG,CAAC,IAAE,GAAG,EAAC;gBACR,MAAM,EAAE,GAAC,CAAC,IAAI,IAAE,IAAI,CAAC,IAAE,CAAC,EAAE,IAAE,CAAC,IAAE,EAAE,IAAE,CAAC,CAAC,CAAA;gBACrC,IAAG,CAAC,EAAE;oBAAE,OAAO,KAAK,CAAA;gBACpB,OAAO,QAAQ,CAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,CAAC,CAAA;aAC/B;YAED,IAAI;YACJ,OAAO,IAAI,IAAE,CAAC,IAAI,IAAI,IAAE,CAAC,CAAA;QAC3B,CAAC;QAED,SAAS,WAAW,CAAC,CAAC,EAAC,KAAK,EAAC,EAAE,EAAC,MAAM,EAAC,EAAE,EAAC,MAAM,EAAC,EAAE,EAAC,MAAM,EAAC,EAAE,EAAC,MAAM,EAAC,GAAG,EAAC,IAAI,GAAE,OAAO;YACpF,IAAG,CAAC,eAAe,CAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,CAAC;gBAAE,OAAO,KAAK,CAAA;YACpD,MAAM,EAAE,GAAC,UAAU,CAAC,CAAC,CAAC,CAAA;YACtB,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAA;YACrB,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAC,IAAI,CAAA;YACf,IAAG,aAAa,CAAC,EAAE,EAAC,GAAG,CAAC;gBAAE,OAAO,KAAK,CAAA;YACtC,OAAO,IAAI,CAAA;QACb,CAAC;QAED,+BAA+B;QAC/B,SAAS,eAAe,CAAC,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,GAAG,OAAO;YACpD,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE;gBAC7B,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE;oBAC7B,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAA;oBACnB,IAAI,CAAC,IAAI,IAAI;wBAAE,SAAQ;oBACvB,IAAI,OAAO,CAAC,CAAC,CAAC,KAAK,GAAG;wBAAE,SAAQ;oBAEhC,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE;wBAC7B,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE;4BAC7B,IAAI,WAAW,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;gCAAE,OAAO,IAAI,CAAA;yBACrD;qBACF;iBACF;aACF;YACD,OAAO,KAAK,CAAA;QACd,CAAC;QAID,SAAS,wBAAwB,CAAC,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,GAAG,QAAQ;YACrE,MAAM,OAAO,GAAG,eAAe,CAAC,CAAC,EAAE,UAAU,CAAC,CAAA;YAC9C,IAAI,OAAO;gBAAE,OAAO,SAAS,CAAA;YAC7B,MAAM,OAAO,GAAG,aAAa,CAAC,CAAC,EAAE,UAAU,CAAC,CAAA;YAC5C,OAAO,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAA;QAC5C,CAAC;QAED,SAAS,QAAQ,CAAC,GAAG,EAAE,IAAI,GAAG,IAAI,GAAG,OAAO,GAAG,IAAI,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAA,CAAC,CAAC;QAEhF,uBAAuB;QACvB,SAAS,cAAc,CAAC,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,GAAG,MAAM;YACxD,0BAA0B;YAC1B,IAAI,GAAG,IAAI,OAAO,EAAE;gBAClB,IAAI,MAAM,IAAI,CAAC;oBAAE,OAAO,EAAE,CAAA;gBAC1B,IAAI,MAAM,IAAI,CAAC;oBAAE,OAAO,EAAE,CAAA;gBAC1B,IAAI,MAAM,IAAI,CAAC;oBAAE,OAAO,EAAE,CAAA;gBAC1B,OAAO,EAAE,CAAA;aACV;iBAAM;gBACL,IAAI,MAAM,IAAI,CAAC;oBAAE,OAAO,EAAE,CAAA;gBAC1B,IAAI,MAAM,IAAI,CAAC;oBAAE,OAAO,EAAE,CAAA;gBAC1B,IAAI,MAAM,IAAI,CAAC;oBAAE,OAAO,EAAE,CAAA;gBAC1B,OAAO,EAAE,CAAA;aACV;QACH,CAAC;QAED,SAAS,aAAa,CAAC,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,GAAG,OAAO;YACpD,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;gBAAE,OAAO,IAAI,CAAA;YACnC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;gBAAE,OAAO,IAAI,CAAA;YACnC,OAAO,KAAK,CAAA;QACd,CAAC;QAED,SAAS,YAAY,CAAC,GAAG,EAAE,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC;YAC/C,kCAAkC;YAClC,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,WAAE,EAAE;gBAC7B,GAAG,CAAC,eAAe,CAAC;oBAClB,QAAQ,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC;oBAClD,OAAO,EAAE,CAAC,GAAG,EAAE,sBAAsB,EAAE,EAAE;wBACvC,MAAM,GAAG,EAAE,MAAM,GAAG,GAAG,CAAC,QAAQ,CAAA;wBAChC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;4BAAE,OAAO,CAAC,GAAG,CAAC,CAAA;;4BACjC,OAAO,CAAC,CAAC,CAAC,CAAA;oBACjB,CAAC;oBACD,IAAI,EAAE,GAAG,EAAE;wBACT,OAAO,CAAC,CAAC,CAAC,CAAA;oBACZ,CAAC;iBACF,CAAC,CAAA;YACJ,CAAC,CAAC,CAAA;QACJ,CAAC;QAED,KAAK,UAAU,eAAe,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI;YACjG,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,EAAE,CAAC;gBAAE,OAAM;YAC1C,MAAM,MAAM,GAAG,MAAM,YAAY,CAAC,QAAQ,CAAC,CAAA;YAC3C,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAA;QAC9C,CAAC;QAED,sDAAsD;QACtD,SAAS,UAAU;YACjB,KAAK,CAAC,KAAK,GAAC,eAAe,EAAE,CAAA;YAC7B,QAAQ,CAAC,KAAK,GAAC,IAAI,CAAA;YACnB,IAAI,CAAC,KAAK,GAAC,OAAO,CAAA;QACpB,CAAC;QAED,oBAAoB;QACpB,KAAK,UAAU,SAAS,CAAC,CAAC,EAAC,MAAM,EAAC,CAAC,EAAC,MAAM;YACxC,MAAM,KAAK,GAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;YAE7B,IAAG,QAAQ,CAAC,KAAK,IAAE,IAAI,EAAC;gBACtB,IAAG,KAAK,IAAE,IAAI;oBAAE,OAAM;gBACtB,IAAG,IAAI,CAAC,KAAK,IAAE,OAAO,IAAE,YAAY,CAAC,KAAK,CAAC;oBAAE,QAAQ,CAAC,KAAK,GAAC,IAAI,GAAG,CAAC,CAAC,EAAC,CAAC,CAAC,CAAA;qBACnE,IAAG,IAAI,CAAC,KAAK,IAAE,OAAO,IAAE,YAAY,CAAC,KAAK,CAAC;oBAAE,QAAQ,CAAC,KAAK,GAAC,IAAI,GAAG,CAAC,CAAC,EAAC,CAAC,CAAC,CAAA;gBAC7E,OAAM;aACP;YAED,MAAM,EAAE,GAAC,QAAQ,CAAC,KAAK,EAAC,CAAC,EAAE,EAAE,GAAC,QAAQ,CAAC,KAAK,EAAC,CAAC,CAAA;YAC9C,MAAM,MAAM,GAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAA;YAChC,IAAG,MAAM,IAAE,IAAI,EAAC;gBAAE,QAAQ,CAAC,KAAK,GAAC,IAAI,CAAC;gBAAC,OAAM;aAAE;YAE/C,WAAW;YACX,IAAG,KAAK,IAAE,IAAI,IAAI,CAChB,CAAC,IAAI,CAAC,KAAK,IAAE,OAAO,IAAI,YAAY,CAAC,KAAK,CAAC,CAAC;gBAC5C,CAAC,IAAI,CAAC,KAAK,IAAE,OAAO,IAAI,YAAY,CAAC,KAAK,CAAC,CAAC,CAC7C,EAAC;gBACA,QAAQ,CAAC,KAAK,GAAC,IAAI,GAAG,CAAC,CAAC,EAAC,CAAC,CAAC,CAAA;gBAC3B,OAAM;aACP;YAED,MAAM,EAAE,GAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,IAAI,CAAC,KAAK,CAAC,CAAA;YACtD,IAAG,CAAC,EAAE,EAAC;gBACL,GAAG,CAAC,SAAS,CAAC,EAAE,KAAK,EAAC,MAAM,EAAE,IAAI,EAAC,MAAM,EAAE,CAAC,CAAA;gBAC5C,OAAM;aACP;YAED,iBAAiB;YACjB,MAAM,QAAQ,EAAE,IAAI,GAAG,IAAI,CAAC,KAAK,CAAA;YACjC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAC,MAAM,CAAA;YACxB,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAC,IAAI,CAAA;YACxB,QAAQ,CAAC,KAAK,GAAC,IAAI,CAAA;YAEnB,iCAAiC;YACjC,MAAM,eAAe,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAA;YAE1D,mBAAmB;YACnB,MAAM,QAAQ,EAAE,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAA;YACzC,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAA;YAErB,6BAA6B;YAC7B,MAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAA;YAChE,IAAI,QAAQ,IAAI,SAAS,EAAE;gBACzB,IAAI,GAAG,GAAG,EAAE,CAAA;gBACZ,IAAI,QAAQ,IAAI,WAAW,EAAE;oBAC3B,6CAA6C;oBAC7C,GAAG,GAAG,CAAC,QAAQ,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAA;iBACxD;qBAAM;oBACL,GAAG,GAAG,aAAa,CAAA;iBACpB;gBAED,GAAG,CAAC,SAAS,CAAC;oBACZ,KAAK,EAAE,MAAM;oBACb,OAAO,EAAE,GAAG;oBACZ,UAAU,EAAE,KAAK;oBACjB,OAAO,EAAE,GAAG,EAAE,GAAG,UAAU,EAAE,CAAA,CAAC,CAAC;iBAChC,CAAC,CAAA;aACH;QACH,CAAC;QAED,SAAS,SAAS,CAAC,CAAC,EAAC,MAAM,EAAC,CAAC,EAAC,MAAM,GAAE,MAAM;YAC1C,IAAI,GAAG,GAAC,CAAC,CAAC,CAAC,GAAC,CAAC,CAAC,GAAC,CAAC,IAAE,CAAC,CAAC,CAAA,CAAC,CAAA,MAAM,CAAA,CAAC,CAAA,OAAO,CAAA;YACnC,IAAG,QAAQ,CAAC,KAAK,IAAE,IAAI,IAAI,QAAQ,CAAC,KAAK,EAAC,CAAC,IAAE,CAAC,IAAI,QAAQ,CAAC,KAAK,EAAC,CAAC,IAAE,CAAC,EAAC;gBACpE,GAAG,GAAC,GAAG,GAAC,WAAW,CAAA;aACpB;YACD,OAAO,GAAG,CAAA;QACZ,CAAC;QAED,MAAM,YAAY,GAAG,QAAQ,CAAC,IAAG,MAAM,CAAA,EAAE;YACvC,IAAG,QAAQ,CAAC,KAAK,IAAE,IAAI;gBAAE,OAAO,GAAG,CAAA;YACnC,MAAM,IAAI,GAAC,MAAM,CAAC,YAAY,CAAC,EAAE,GAAC,QAAQ,CAAC,KAAK,EAAC,CAAC,CAAC,CAAA;YACnD,MAAM,IAAI,GAAC,CAAC,CAAC,GAAC,QAAQ,CAAC,KAAK,EAAC,CAAC,CAAC,CAAC,QAAQ,IAAE,CAAA;YAC1C,OAAO,IAAI,GAAC,IAAI,CAAA;QAClB,CAAC,CAAC,CAAA;QAEF,MAAM,QAAQ,GAAG,QAAQ,CAAC,IAAG,MAAM,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAE,OAAO,CAAA,CAAC,CAAA,MAAM,CAAA,CAAC,CAAA,MAAM,CAAC,CAAC,CAAA;;mBAhjBzE,GAAA,CA4DO,MAAA,EAAA,GAAA,CAAA,EA5DD,KAAK,EAAC,MAAM,EAAA,CAAA,EAAA;gBAChB,GAAA,CAGO,MAAA,EAAA,GAAA,CAAA,EAHD,KAAK,EAAC,MAAM,EAAA,CAAA,EAAA;oBAChB,GAAA,CAA4B,MAAA,EAAA,GAAA,CAAA,EAAtB,KAAK,EAAC,IAAI,EAAA,CAAA,EAAC,MAAI,CAAA;oBACrB,GAAA,CAAuC,MAAA,EAAA,GAAA,CAAA,EAAjC,KAAK,EAAC,KAAK,EAAA,CAAA,EAAA,GAAA,CAAI,QAAA,CAAA,KAAQ,CAAA,EAAA,CAAA,CAAA,UAAA,CAAA;;gBAG/B,GAAA,CAmCO,MAAA,EAAA,GAAA,CAAA,EAnCD,KAAK,EAAC,WAAW,EAAA,CAAA,EAAA;oBACrB,GAAA,CAiCO,MAAA,EAAA,GAAA,CAAA;wBAjCD,KAAK,EAAC,YAAY;wBAAE,KAAK,EAAA,GAAA,CAAE,UAAA,CAAA,KAAU,CAAA;;wBACzC,GAAA,CAuBO,MAAA,EAAA,GAAA,CAAA,EAvBD,KAAK,EAAC,cAAc,EAAA,CAAA,EAAA;4BAExB,GAAA,CAIO,MAAA,EAAA,GAAA,CAAA;gCAJD,KAAK,EAAC,UAAU;gCAAE,KAAK,EAAA,GAAA,CAAE,aAAA,CAAA,KAAa,CAAA;;gCAC1C,GAAA,CAEO,QAAA,EAAA,IAAA,EAAA,aAAA,CAAA,UAAA,CAFW,IAAI,EAAA,CAAT,CAAC,EAAD,KAAC,EAAD,OAAC,EAAA,OAAA,GAAA,GAAA,CAAA,EAAA;2CAAd,GAAA,CAEO,MAAA,EAAA,GAAA,CAAA;wCAFkB,GAAG,EAAA,OAAA,GAAY,CAAC;wCAAE,KAAK,EAAC,UAAU;wCAAE,KAAK,EAAA,GAAA,CAAE,aAAA,CAAA,KAAa,CAAA;;wCAC/E,GAAA,CAAiD,MAAA,EAAA,GAAA,CAAA,EAA3C,KAAK,EAAC,WAAW,EAAA,CAAA,EAAA,GAAA,CAAI,SAAS,CAAC,CAAC,CAAA,CAAA,EAAA,CAAA,CAAA,UAAA,CAAA;;;;4BAK1C,GAAA,CAaO,MAAA,EAAA,GAAA,CAAA;gCAbD,KAAK,EAAC,OAAO;gCAAE,KAAK,EAAA,GAAA,CAAE,UAAA,CAAA,KAAU,CAAA;;gCACpC,GAAA,CAWO,QAAA,EAAA,IAAA,EAAA,aAAA,CAAA,UAAA,CAXW,IAAI,EAAA,CAAT,CAAC,EAAD,KAAC,EAAD,OAAC,EAAA,OAAA,GAAA,GAAA,CAAA,EAAA;2CAAd,GAAA,CAWO,MAAA,EAAA,GAAA,CAAA;wCAXkB,GAAG,EAAA,MAAA,GAAW,CAAC;wCAAE,KAAK,EAAC,UAAU;wCAAE,KAAK,EAAA,GAAA,CAAE,QAAA,CAAA,KAAQ,CAAA;;wCACzE,GAAA,CASO,QAAA,EAAA,IAAA,EAAA,aAAA,CAAA,UAAA,CARO,IAAI,EAAA,CAAT,CAAC,EAAD,KAAC,EAAD,OAAC,EAAA,OAAA,GAAA,GAAA,CAAA,EAAA;mDADV,GAAA,CASO,MAAA,EAAA,GAAA,CAAA;gDAPJ,GAAG,EAAE,CAAC,GAAA,GAAA,GAAS,CAAC;gDACjB,KAAK,EAAA,GAAA,CAAA,CAAC,MAAM,EACJ,SAAS,CAAC,CAAC,EAAE,CAAC,CAAA,CAAA,CAAA;gDACrB,KAAK,EAAA,GAAA,CAAE,SAAA,CAAA,KAAS,CAAA;gDAChB,OAAG,EAAA,GAAA,EAAA,GAAE,SAAS,CAAC,CAAC,EAAE,CAAC,CAAA,CAAA,CAAA,CAAA;;gDAEpB,GAAA,CAA8C,MAAA,EAAA,GAAA,CAAA,EAAxC,KAAK,EAAC,OAAO,EAAA,CAAA,EAAA,GAAA,CAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAA,CAAA,EAAA,CAAA,CAAA,UAAA,CAAA;;;;;;;wBAO3C,GAAA,CAKO,MAAA,EAAA,GAAA,CAAA;4BALD,KAAK,EAAC,UAAU;4BAAE,KAAK,EAAA,GAAA,CAAE,aAAA,CAAA,KAAa,CAAA;;4BAC1C,GAAA,CAA2D,MAAA,EAAA,GAAA,CAAA;gCAArD,KAAK,EAAC,aAAa;gCAAE,KAAK,EAAA,GAAA,CAAE,gBAAA,CAAA,KAAgB,CAAA;;4BAClD,GAAA,CAEO,QAAA,EAAA,IAAA,EAAA,aAAA,CAAA,UAAA,CAFW,IAAI,EAAA,CAAT,CAAC,EAAD,KAAC,EAAD,OAAC,EAAA,OAAA,GAAA,GAAA,CAAA,EAAA;uCAAd,GAAA,CAEO,MAAA,EAAA,GAAA,CAAA;oCAFkB,GAAG,EAAA,OAAA,GAAY,CAAC;oCAAE,KAAK,EAAC,UAAU;oCAAE,KAAK,EAAA,GAAA,CAAE,aAAA,CAAA,KAAa,CAAA;;oCAC/E,GAAA,CAAiD,MAAA,EAAA,GAAA,CAAA,EAA3C,KAAK,EAAC,WAAW,EAAA,CAAA,EAAA,GAAA,CAAI,SAAS,CAAC,CAAC,CAAA,CAAA,EAAA,CAAA,CAAA,UAAA,CAAA;;;;;;gBAM9C,GAAA,CAgBO,MAAA,EAAA,GAAA,CAAA,EAhBD,KAAK,EAAC,OAAO,EAAA,CAAA,EAAA;oBACjB,GAAA,CAGO,MAAA,EAAA,GAAA,CAAA,EAHD,KAAK,EAAC,kBAAkB,EAAA,CAAA,EAAA;wBAC5B,GAAA,CAA+B,MAAA,EAAA,GAAA,CAAA,EAAzB,KAAK,EAAC,OAAO,EAAA,CAAA,EAAC,MAAI,CAAA;wBACxB,GAAA,CAAyC,MAAA,EAAA,GAAA,CAAA,EAAnC,KAAK,EAAC,OAAO,EAAA,CAAA,EAAA,GAAA,CAAI,QAAA,CAAA,KAAQ,CAAA,EAAA,CAAA,CAAA,UAAA,CAAA;;oBAGjC,GAAA,CAGO,MAAA,EAAA,GAAA,CAAA,EAHD,KAAK,EAAC,SAAS,EAAA,CAAA,EAAA;wBACnB,GAAA,CAA6B,MAAA,EAAA,GAAA,CAAA,EAAvB,KAAK,EAAC,OAAO,EAAA,CAAA,EAAC,IAAE,CAAA;wBACtB,GAAA,CAA6C,MAAA,EAAA,GAAA,CAAA,EAAvC,KAAK,EAAC,OAAO,EAAA,CAAA,EAAA,GAAA,CAAI,YAAA,CAAA,KAAY,CAAA,EAAA,CAAA,CAAA,UAAA,CAAA;;oBAGrC,GAAA,CAIO,MAAA,EAAA,GAAA,CAAA,EAJD,KAAK,EAAC,MAAM,EAAA,CAAA,EAAA;wBAChB,GAAA,CAEO,MAAA,EAAA,GAAA,CAAA;4BAFD,KAAK,EAAC,KAAK;4BAAE,OAAG,EAAE,UAAU;;4BAChC,GAAA,CAAiC,MAAA,EAAA,GAAA,CAAA,EAA3B,KAAK,EAAC,SAAS,EAAA,CAAA,EAAC,MAAI,CAAA","sourcesContent":["<template>\n  <view class=\"page\">\n    <view class=\"head\">\n      <text class=\"h1\">Game</text>\n      <text class=\"sub\">{{ turnText }}</text>\n    </view>\n\n    <view class=\"boardWrap\">\n      <view class=\"boardFrame\" :style=\"frameStyle\">\n        <view class=\"boardRowWrap\">\n          <!-- Â∑¶‰æß 8-1 -->\n          <view class=\"ranksCol\" :style=\"ranksColStyle\">\n            <view v-for=\"r in rows\" :key=\"'rank_' + r\" class=\"rankCell\" :style=\"rankCellStyle\">\n              <text class=\"coordText\">{{ rankLabel(r) }}</text>\n            </view>\n          </view>\n\n          <!-- Ê£ãÁõò -->\n          <view class=\"board\" :style=\"boardStyle\">\n            <view v-for=\"r in rows\" :key=\"'row_' + r\" class=\"boardRow\" :style=\"rowStyle\">\n              <view\n                v-for=\"c in cols\"\n                :key=\"r + '_' + c\"\n                class=\"cell\"\n                :class=\"cellClass(r, c)\"\n                :style=\"cellStyle\"\n                @tap=\"onTapCell(r, c)\"\n              >\n                <text class=\"piece\">{{ pieceAt(r, c) }}</text>\n              </view>\n            </view>\n          </view>\n        </view>\n\n        <!-- Â∫ïÈÉ® a-h -->\n        <view class=\"filesRow\" :style=\"filesRowStyle\">\n          <view class=\"filesSpacer\" :style=\"filesSpacerStyle\"></view>\n          <view v-for=\"c in cols\" :key=\"'file_' + c\" class=\"fileCell\" :style=\"fileCellStyle\">\n            <text class=\"coordText\">{{ fileLabel(c) }}</text>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <view class=\"panel\">\n      <view class=\"rowInfo rowFirst\">\n        <text class=\"label\">ÂΩìÂâçÂõûÂêà</text>\n        <text class=\"value\">{{ turnText }}</text>\n      </view>\n\n      <view class=\"rowInfo\">\n        <text class=\"label\">ÈÄâ‰∏≠</text>\n        <text class=\"value\">{{ selectedText }}</text>\n      </view>\n\n      <view class=\"btns\">\n        <view class=\"btn\" @tap=\"resetBoard\">\n          <text class=\"btnText\">ÈáçÁΩÆÊ£ãÁõò</text>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup lang=\"uts\">\nimport { ref, computed } from 'vue'\n\n/* Ë°åÂàó */\nconst rows = [0,1,2,3,4,5,6,7]\nconst cols = [0,1,2,3,4,5,6,7]\n\n/* ========= ‚úÖ Â∞∫ÂØ∏Ôºö‰øÆÂ§ç‚ÄúÊ£ãÁõòÊòæÁ§∫‰∏çÂÖ®‚Äù =========\n   ÊÄªÂÆΩ = boardPx + coordPx\n   ÊâÄ‰ª• boardPx ÂøÖÈ°ªÁî® (ÂèØÁî®ÂÆΩÂ∫¶ - coordPx) Êù•ÁÆó\n   coordPx Âèà‰æùËµñ cellPxÔºåÊâÄ‰ª•Áî® 2~3 Ê¨°Ëø≠‰ª£Êî∂Êïõ\n*/\nconst boardPx = ref<number>(320)\nconst coordPx = ref<number>(22)\n\nfunction clamp(n: number, minV: number, maxV: number): number {\n  if (n < minV) return minV\n  if (n > maxV) return maxV\n  return n\n}\n\nfunction calcCoordFromCell(cell: number): number {\n  let v = Math.floor(cell * 0.55)\n  if (v < 18) v = 18\n  if (v > 26) v = 26\n  return v\n}\n\nfunction recalcSizes() {\n  const info: GetSystemInfoResult = uni.getSystemInfoSync()\n  const ww: number = info.windowWidth\n\n  // È°µÈù¢Â∑¶Âè≥ padding ÂÖ± 36Ôºàpage padding 18px*2Ôºâ\n  const maxTotal = ww - 36\n\n  // ÂàùÂßãÂÅáËÆæ\n  let c = 22\n  let b = maxTotal - c\n\n  // Ëø≠‰ª£‰∏§‰∏âÊ¨°ÔºåËÆ© coordPx ‰∏é cellPx ‰∏ÄËá¥\n  for (let i = 0; i < 3; i++) {\n    // board Á∫¶ÊùüËåÉÂõ¥ + ÂØπÈΩê 8 ÁöÑÂÄçÊï∞\n    b = clamp(b, 240, 360)\n    b = b - (b % 8)\n\n    const cell = b / 8\n    c = calcCoordFromCell(cell)\n\n    // ‰øùËØÅÊÄªÂÆΩ‰∏çË∂Ö\n    b = maxTotal - c\n  }\n\n  // ÊúÄÁªàÂÜçÂØπÈΩê‰∏ÄÊ¨°\n  b = clamp(b, 240, 360)\n  b = b - (b % 8)\n  c = calcCoordFromCell(b / 8)\n\n  boardPx.value = b\n  coordPx.value = c\n}\n\nrecalcSizes()\n\nconst cellPx = computed((): number => boardPx.value / 8)\n\n/* style Â≠óÁ¨¶‰∏≤ */\nconst boardStyle = computed((): string => {\n  const px = boardPx.value.toString() + 'px'\n  return 'width:' + px + ';height:' + px + ';'\n})\n\nconst rowStyle = computed((): string => {\n  const w = boardPx.value.toString() + 'px'\n  const h = cellPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst cellStyle = computed((): string => {\n  const px = cellPx.value.toString() + 'px'\n  return 'width:' + px + ';height:' + px + ';flex:0 0 ' + px + ';'\n})\n\n/* Â§ñÊ°ÜÔºàÂê´ÂùêÊ†áÔºâ */\nconst frameStyle = computed((): string => {\n  const w = (boardPx.value + coordPx.value).toString() + 'px'\n  const h = (boardPx.value + coordPx.value).toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst ranksColStyle = computed((): string => {\n  const w = coordPx.value.toString() + 'px'\n  const h = boardPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst rankCellStyle = computed((): string => {\n  const w = coordPx.value.toString() + 'px'\n  const h = cellPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst filesRowStyle = computed((): string => {\n  const w = (boardPx.value + coordPx.value).toString() + 'px'\n  const h = coordPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst filesSpacerStyle = computed((): string => {\n  const w = coordPx.value.toString() + 'px'\n  const h = coordPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nconst fileCellStyle = computed((): string => {\n  const w = cellPx.value.toString() + 'px'\n  const h = coordPx.value.toString() + 'px'\n  return 'width:' + w + ';height:' + h + ';'\n})\n\nfunction rankLabel(r: number): string { return (8 - r).toString() }\nfunction fileLabel(c: number): string { return String.fromCharCode(97 + c) }\n\n/* ========= ÂØπÂºà ========= */\ntype Turn = 'white' | 'black'\nconst turn = ref<Turn>('white')\n\nclass Pos { r: number; c: number; constructor(r: number, c: number){ this.r=r; this.c=c } }\nconst selected = ref<Pos | null>(null)\n\n/* Unicode */\nconst BR='‚ôú', BN='‚ôû', BB='‚ôù', BQ='‚ôõ', BK='‚ôö', BP='‚ôü'\nconst WR='‚ôñ', WN='‚ôò', WB='‚ôó', WQ='‚ôï', WK='‚ôî', WP='‚ôô'\n\ntype Board = (string | null)[][]\n\nfunction createInitBoard(): Board {\n  return [\n    [BR, BN, BB, BQ, BK, BB, BN, BR],\n    [BP, BP, BP, BP, BP, BP, BP, BP],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    [WP, WP, WP, WP, WP, WP, WP, WP],\n    [WR, WN, WB, WQ, WK, WB, WN, WR]\n  ]\n}\nconst board = ref<Board>(createInitBoard())\n\nfunction pieceAt(r:number,c:number):string{\n  const p = board.value[r][c]\n  return p==null?'':p\n}\n\nfunction isWhitePiece(p:string):boolean{ return p==WR||p==WN||p==WB||p==WQ||p==WK||p==WP }\nfunction isBlackPiece(p:string):boolean{ return p==BR||p==BN||p==BB||p==BQ||p==BK||p==BP }\nfunction colorOf(p:string):Turn{ return isWhitePiece(p)?'white':'black' }\n\n/* ===== ÂêàÊ≥ïËµ∞Â≠êÔºöÂü∫Á°ÄËßÑÂàô + ‰∏çÈÄÅÂ∞Ü ===== */\nfunction inBounds(r:number,c:number):boolean{ return r>=0&&r<8&&c>=0&&c<8 }\n\nfunction cloneBoard(b:Board):Board{\n  const nb:Board=[]\n  for(let i=0;i<8;i++){\n    const nr:(string|null)[]=[]\n    for(let j=0;j<8;j++) nr.push(b[i][j])\n    nb.push(nr)\n  }\n  return nb\n}\n\nfunction isEmpty(b:Board,r:number,c:number):boolean{ return b[r][c]==null }\nfunction isEnemyAt(b:Board,r:number,c:number,me:Turn):boolean{\n  const p=b[r][c]; if(p==null) return false\n  return (me=='white')?isBlackPiece(p):isWhitePiece(p)\n}\n\nfunction rayClear(b:Board,sr:number,sc:number,dr:number,dc:number):boolean{\n  const dR=dr-sr, dC=dc-sc\n  const stepR=dR==0?0:(dR>0?1:-1)\n  const stepC=dC==0?0:(dC>0?1:-1)\n  let r=sr+stepR, c=sc+stepC\n  while(r!=dr || c!=dc){\n    if(!isEmpty(b,r,c)) return false\n    r+=stepR; c+=stepC\n  }\n  return true\n}\n\nfunction pieceType(p:string):string{\n  if(p==WP||p==BP) return 'P'\n  if(p==WN||p==BN) return 'N'\n  if(p==WB||p==BB) return 'B'\n  if(p==WR||p==BR) return 'R'\n  if(p==WQ||p==BQ) return 'Q'\n  return 'K'\n}\n\nfunction findKing(b:Board,who:Turn):Pos|null{\n  const k=(who=='white')?WK:BK\n  for(let r=0;r<8;r++){\n    for(let c=0;c<8;c++){\n      if(b[r][c]==k) return new Pos(r,c)\n    }\n  }\n  return null\n}\n\nfunction isSquareAttacked(b:Board,tr:number,tc:number,by:Turn):boolean{\n  // pawn\n  if(by=='white'){\n    const r=tr+1\n    if(inBounds(r,tc-1)&&b[r][tc-1]==WP) return true\n    if(inBounds(r,tc+1)&&b[r][tc+1]==WP) return true\n  }else{\n    const r=tr-1\n    if(inBounds(r,tc-1)&&b[r][tc-1]==BP) return true\n    if(inBounds(r,tc+1)&&b[r][tc+1]==BP) return true\n  }\n  // knight\n  const kd=[[-2,-1],[-2,1],[-1,-2],[-1,2],[1,-2],[1,2],[2,-1],[2,1]]\n  for(let i=0;i<kd.length;i++){\n    const rr=tr+kd[i][0], cc=tc+kd[i][1]\n    if(!inBounds(rr,cc)) continue\n    const p=b[rr][cc]; if(p==null) continue\n    if(by=='white'&&p==WN) return true\n    if(by=='black'&&p==BN) return true\n  }\n  // king\n  for(let rr=tr-1;rr<=tr+1;rr++){\n    for(let cc=tc-1;cc<=tc+1;cc++){\n      if(rr==tr&&cc==tc) continue\n      if(!inBounds(rr,cc)) continue\n      const p=b[rr][cc]; if(p==null) continue\n      if(by=='white'&&p==WK) return true\n      if(by=='black'&&p==BK) return true\n    }\n  }\n  // rook/queen rays\n  const rd=[[-1,0],[1,0],[0,-1],[0,1]]\n  for(let i=0;i<rd.length;i++){\n    let rr=tr+rd[i][0], cc=tc+rd[i][1]\n    while(inBounds(rr,cc)){\n      const p=b[rr][cc]\n      if(p!=null){\n        if(by=='white'&&(p==WR||p==WQ)) return true\n        if(by=='black'&&(p==BR||p==BQ)) return true\n        break\n      }\n      rr+=rd[i][0]; cc+=rd[i][1]\n    }\n  }\n  // bishop/queen rays\n  const bd=[[-1,-1],[-1,1],[1,-1],[1,1]]\n  for(let i=0;i<bd.length;i++){\n    let rr=tr+bd[i][0], cc=tc+bd[i][1]\n    while(inBounds(rr,cc)){\n      const p=b[rr][cc]\n      if(p!=null){\n        if(by=='white'&&(p==WB||p==WQ)) return true\n        if(by=='black'&&(p==BB||p==BQ)) return true\n        break\n      }\n      rr+=bd[i][0]; cc+=bd[i][1]\n    }\n  }\n  return false\n}\n\nfunction isKingInCheck(b:Board,who:Turn):boolean{\n  const k=findKing(b,who)\n  if(k==null) return false\n  const opp:Turn=(who=='white')?'black':'white'\n  return isSquareAttacked(b,k.r,k.c,opp)\n}\n\nfunction canMovePieceRaw(b:Board,sr:number,sc:number,dr:number,dc:number,who:Turn):boolean{\n  if(!inBounds(sr,sc)||!inBounds(dr,dc)) return false\n  if(sr==dr&&sc==dc) return false\n  const p=b[sr][sc]; if(p==null) return false\n  if(colorOf(p)!=who) return false\n  const dst=b[dr][dc]\n  if(dst!=null && colorOf(dst)==who) return false\n\n  const t=pieceType(p)\n  const dR=dr-sr, dC=dc-sc\n  const absR=Math.abs(dR), absC=Math.abs(dC)\n\n  if(t=='P'){\n    const dir=(who=='white')?-1:1\n    const startRow=(who=='white')?6:1\n    if(dC==0){\n      if(dR==dir && isEmpty(b,dr,dc)) return true\n      if(sr==startRow && dR==2*dir){\n        const mid=sr+dir\n        if(isEmpty(b,mid,sc)&&isEmpty(b,dr,dc)) return true\n      }\n      return false\n    }\n    if(absC==1 && dR==dir){\n      return isEnemyAt(b,dr,dc,who)\n    }\n    return false\n  }\n\n  if(t=='N'){\n    return (absR==2&&absC==1)||(absR==1&&absC==2)\n  }\n\n  if(t=='B'){\n    if(absR!=absC) return false\n    return rayClear(b,sr,sc,dr,dc)\n  }\n\n  if(t=='R'){\n    if(!(dR==0||dC==0)) return false\n    return rayClear(b,sr,sc,dr,dc)\n  }\n\n  if(t=='Q'){\n    const ok=(absR==absC)||(dR==0||dC==0)\n    if(!ok) return false\n    return rayClear(b,sr,sc,dr,dc)\n  }\n\n  // K\n  return absR<=1 && absC<=1\n}\n\nfunction isLegalMove(b:Board,sr:number,sc:number,dr:number,dc:number,who:Turn):boolean{\n  if(!canMovePieceRaw(b,sr,sc,dr,dc,who)) return false\n  const nb=cloneBoard(b)\n  nb[dr][dc]=nb[sr][sc]\n  nb[sr][sc]=null\n  if(isKingInCheck(nb,who)) return false\n  return true\n}\n\n/* ===== ‚úÖ ÁªìÊùüÂà§Êñ≠ÔºàÂ∞ÜÊ≠ª/ÂíåÊ£ãÔºâ ===== */\nfunction hasAnyLegalMove(b: Board, who: Turn): boolean {\n  for (let sr = 0; sr < 8; sr++) {\n    for (let sc = 0; sc < 8; sc++) {\n      const p = b[sr][sc]\n      if (p == null) continue\n      if (colorOf(p) !== who) continue\n\n      for (let dr = 0; dr < 8; dr++) {\n        for (let dc = 0; dc < 8; dc++) {\n          if (isLegalMove(b, sr, sc, dr, dc, who)) return true\n        }\n      }\n    }\n  }\n  return false\n}\n\ntype EndState = 'playing' | 'checkmate' | 'stalemate'\n\nfunction getEndStateForSideToMove(b: Board, sideToMove: Turn): EndState {\n  const hasMove = hasAnyLegalMove(b, sideToMove)\n  if (hasMove) return 'playing'\n  const inCheck = isKingInCheck(b, sideToMove)\n  return inCheck ? 'checkmate' : 'stalemate'\n}\n\nfunction opposite(who: Turn): Turn { return who == 'white' ? 'black' : 'white' }\n\n/* ===== ‚úÖ ÂÖµÂçáÂèò ===== */\nfunction promotionPiece(who: Turn, choice: number): string {\n  // choice: 0=Q,1=R,2=B,3=N\n  if (who == 'white') {\n    if (choice == 1) return WR\n    if (choice == 2) return WB\n    if (choice == 3) return WN\n    return WQ\n  } else {\n    if (choice == 1) return BR\n    if (choice == 2) return BB\n    if (choice == 3) return BN\n    return BQ\n  }\n}\n\nfunction shouldPromote(p: string, dr: number): boolean {\n  if (p == WP && dr == 0) return true\n  if (p == BP && dr == 7) return true\n  return false\n}\n\nfunction askPromotion(who: Turn): Promise<number> {\n  // ËøîÂõû choice: 0..3ÔºõÂèñÊ∂à/Â§±Ë¥•ËøîÂõû 0ÔºàÈªòËÆ§ÂçáÂêéÔºâ\n  return new Promise((resolve) => {\n    uni.showActionSheet({\n      itemList: ['ÂçáÂêé ‚ôï/‚ôõ', 'ÂçáËΩ¶ ‚ôñ/‚ôú', 'ÂçáË±° ‚ôó/‚ôù', 'ÂçáÈ©¨ ‚ôò/‚ôû'],\n      success: (res: ShowActionSheetSuccess) => {\n        const idx: number = res.tapIndex\n        if (idx >= 0 && idx <= 3) resolve(idx)\n        else resolve(0)\n      },\n      fail: () => {\n        resolve(0)\n      }\n    })\n  })\n}\n\nasync function promoteIfNeeded(b: Board, dr: number, dc: number, movedPiece: string, whoMoved: Turn) {\n  if (!shouldPromote(movedPiece, dr)) return\n  const choice = await askPromotion(whoMoved)\n  b[dr][dc] = promotionPiece(whoMoved, choice)\n}\n\n/* ===== ‚úÖ resetBoardÔºöÂè™‰øùÁïô‰∏Ä‰ªΩÔºåÂπ∂‰∏îÊîæÂú® onTapCell ÂâçÈù¢ ===== */\nfunction resetBoard(){\n  board.value=createInitBoard()\n  selected.value=null\n  turn.value='white'\n}\n\n/* ===== ‰∫§‰∫í ===== */\nasync function onTapCell(r:number,c:number){\n  const piece=board.value[r][c]\n\n  if(selected.value==null){\n    if(piece==null) return\n    if(turn.value=='white'&&isWhitePiece(piece)) selected.value=new Pos(r,c)\n    else if(turn.value=='black'&&isBlackPiece(piece)) selected.value=new Pos(r,c)\n    return\n  }\n\n  const sr=selected.value.r, sc=selected.value.c\n  const moving=board.value[sr][sc]\n  if(moving==null){ selected.value=null; return }\n\n  // ÁÇπÂà∞Â∑±ÊñπÂ≠êÔºöÊîπÈÄâ\n  if(piece!=null && (\n    (turn.value=='white' && isWhitePiece(piece)) ||\n    (turn.value=='black' && isBlackPiece(piece))\n  )){\n    selected.value=new Pos(r,c)\n    return\n  }\n\n  const ok=isLegalMove(board.value,sr,sc,r,c,turn.value)\n  if(!ok){\n    uni.showToast({ title:'ÈùûÊ≥ïËµ∞Ê≥ï', icon:'none' })\n    return\n  }\n\n  // ===== ËêΩÂ≠ê =====\n  const whoMoved: Turn = turn.value\n  board.value[r][c]=moving\n  board.value[sr][sc]=null\n  selected.value=null\n\n  // ===== ‚úÖ ÂÖµÂçáÂèòÔºàÂÖàÂçáÂèòÔºåÂÜçÂàáÂõûÂêà/Âà§ÁªàÂ±ÄÔºâ=====\n  await promoteIfNeeded(board.value, r, c, moving, whoMoved)\n\n  // ===== ÂàáÊç¢ÂõûÂêà =====\n  const nextTurn: Turn = opposite(whoMoved)\n  turn.value = nextTurn\n\n  // ===== ‚úÖ ÁªìÊùüÂà§Êñ≠ÔºöÂ∞ÜÊ≠ª / ÂíåÊ£ã =====\n  const endState = getEndStateForSideToMove(board.value, nextTurn)\n  if (endState != 'playing') {\n    let msg = ''\n    if (endState == 'checkmate') {\n      // nextTurn Êó†Ê£ãÂèØËµ∞‰∏îË¢´Â∞ÜÂÜõ => nextTurn ËæìÔºåwhoMoved Ëµ¢\n      msg = (whoMoved == 'white') ? 'ÁôΩÊñπËÉúÂà©ÔºàÂ∞ÜÊ≠ªÔºâÔºÅ' : 'ÈªëÊñπËÉúÂà©ÔºàÂ∞ÜÊ≠ªÔºâÔºÅ'\n    } else {\n      msg = 'ÂíåÊ£ãÔºàÊó†ÂêàÊ≥ïËµ∞Ê≥ïÔºâü§ù'\n    }\n\n    uni.showModal({\n      title: 'ÂØπÂ±ÄÁªìÊùü',\n      content: msg,\n      showCancel: false,\n      success: () => { resetBoard() }\n    })\n  }\n}\n\nfunction cellClass(r:number,c:number):string{\n  let cls=((r+c)%2==1)?'dark':'light'\n  if(selected.value!=null && selected.value.r==r && selected.value.c==c){\n    cls=cls+' selected'\n  }\n  return cls\n}\n\nconst selectedText = computed(():string=>{\n  if(selected.value==null) return 'Êó†'\n  const file=String.fromCharCode(97+selected.value.c)\n  const rank=(8-selected.value.r).toString()\n  return file+rank\n})\n\nconst turnText = computed(():string => (turn.value=='white'?'ÁôΩÊñπÂõûÂêà':'ÈªëÊñπÂõûÂêà'))\n\n</script>\n\n<style >.page {\n  padding: 18px;\n  display: flex;\n  flex-direction: column;\n}\n\n.head {\n  margin-bottom: 12px;\n}\n\n.h1 {\n  font-size: 20px;\n  font-weight: 700;\n}\n\n.sub {\n  font-size: 12px;\n  opacity: 0.6;\n  margin-top: 4px;\n}\n\n.boardWrap {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 14px;\n}\n\n/* ===== ÂùêÊ†áÊ°ÜÊï¥‰Ωì ===== */\n.boardFrame {\n  display: flex;\n  flex-direction: column;\n  /* ÂéªÊéâÂúÜËßí */\n  border-radius: 0;\n  /* ÂèØ‰ª•‰øùÁïôÔºå‰πüÂèØ‰ª•ÂéªÊéâ */\n  overflow: hidden;\n  /* Â§ñÊ°Ü */\n  border: none;\n\n  background: transparent;\n  box-sizing: border-box;\n}\n\n\n.boardRowWrap {\n  display: flex;\n  flex-direction: row;\n}\n\n/* Â∑¶‰æß 8-1 */\n.ranksCol {\n  display: flex;\n  flex-direction: column;\n  /* ‚úÖ ‰∏çË¶ÅÁÅ∞Â∫ï */\n  background: transparent;\n  box-sizing: border-box;\n}\n\n.rankCell {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n}\n\n/* Â∫ïÈÉ® a-h */\n.filesRow {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  /* ‚úÖ ‰∏çË¶ÅÁÅ∞Â∫ï */\n  background: transparent;\n  box-sizing: border-box;\n}\n\n.filesSpacer {\n  flex-shrink: 0;\n  /* ‚úÖ ‰∏çË¶ÅÁÅ∞Â∫ï */\n  background: transparent;\n}\n\n.fileCell {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n}\n\n.coordText {\n  font-size: 12px;\n  opacity: 0.6;\n  font-weight: 700;\n}\n\n/* ===== Ê£ãÁõòÊú¨‰Ωì ===== */\n.board {\n  overflow: hidden;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n}\n\n.boardRow {\n  display: flex;\n  flex-direction: row;\n}\n\n.cell {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  flex-shrink: 0;\n}\n\n.light { background: #f0d9b5; }\n.dark  { background: #b58863; }\n\n.selected {\n  border: 3px solid rgba(31,111,235,0.9);\n  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.25);\n}\n\n.piece {\n  font-size: 26px;\n  line-height: 26px;\n}\n\n.panel {\n  padding: 14px;\n  border-radius: 14px;\n  border: 1px solid rgba(0,0,0,0.08);\n  background: rgba(0,0,0,0.02);\n}\n\n.rowInfo {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 0;\n  border-top: 1px solid rgba(0,0,0,0.06);\n}\n\n.rowFirst {\n  border-top: none;\n  padding-top: 0;\n}\n\n.label {\n  font-size: 12px;\n  opacity: 0.6;\n}\n\n.value {\n  font-size: 14px;\n  font-weight: 700;\n}\n\n.btns {\n  margin-top: 12px;\n}\n\n.btn {\n  height: 42px;\n  border-radius: 12px;\n  background: rgba(31,111,235,0.12);\n  border: 1px solid rgba(31,111,235,0.25);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.btnText {\n  font-size: 14px;\n  font-weight: 700;\n}\n</style>\n"]}